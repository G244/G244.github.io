{"meta":{"title":"Hexo","subtitle":"","description":"","author":"APWEBåºš","url":"http://yoursite.com","root":"/"},"pages":[],"posts":[{"title":"mysql","slug":"mysql","date":"2020-05-11T02:10:30.000Z","updated":"2020-05-11T02:39:38.592Z","comments":true,"path":"2020/05/11/mysql/","link":"","permalink":"http://yoursite.com/2020/05/11/mysql/","excerpt":"","text":"linux æ•°æ®åº“æ“ä½œ èµ‹äºˆå¦å°æœåŠ¡å™¨çš„æƒé™GRANT ALL PRIVILEGES ON . TO â€˜ç”¨æˆ·åâ€˜@â€™IPv4åœ°å€ IDENTIFIED BY â€˜å¯†ç â€™ WITH GRANT OPTION;æ‰§è¡Œ flush privileges;å‘½ä»¤ç«‹å³ç”Ÿæ•ˆ","categories":[],"tags":[{"name":"mysql","slug":"mysql","permalink":"http://yoursite.com/tags/mysql/"}]},{"title":"è…¾è®¯æ¥å£ç­¾åæ–¹æ³•","slug":"tencent","date":"2020-05-11T02:10:30.000Z","updated":"2020-05-11T02:49:38.434Z","comments":true,"path":"2020/05/11/tencent/","link":"","permalink":"http://yoursite.com/2020/05/11/tencent/","excerpt":"","text":"POST ç­¾åæ–¹æ³•V3 /** * æ–‡æœ¬å†…å®¹POSTè¯·æ±‚å‚æ•°ç­¾å * @param $action * @param $payload * @return array */ private function signature_post($action, $payload) { $secretId = &quot;è…¾è®¯äº‘id&quot;; $secretKey = &quot;è…¾è®¯äº‘key&quot;; $host = &quot;cms.tencentcloudapi.com&quot;; $service = &quot;cms&quot;; $version = &quot;2019-03-21&quot;; $region = &quot;ap-guangzhou&quot;; $timestamp = time(); $algorithm = &quot;TC3-HMAC-SHA256&quot;; $httpRequestMethod = &quot;POST&quot;; $canonicalUri = &quot;/&quot;; $canonicalQueryString = &quot;&quot;; $canonicalHeaders = &quot;content-type:application/json; charset=utf-8\\n&quot; . &quot;host:&quot; . $host . &quot;\\n&quot;; $signedHeaders = &quot;content-type;host&quot;; $payload = &apos;{&quot;Limit&quot;: 1, &quot;Filters&quot;: [{&quot;Values&quot;: [&quot;\\u672a\\u547d\\u540d&quot;], &quot;Name&quot;: &quot;instance-name&quot;}]}&apos;; step 1: build canonical request string $hashedRequestPayload = hash(&quot;SHA256&quot;, $payload); $canonicalRequest = $httpRequestMethod . &quot;\\n&quot; . $canonicalUri . &quot;\\n&quot; . $canonicalQueryString . &quot;\\n&quot; . $canonicalHeaders . &quot;\\n&quot; . $signedHeaders . &quot;\\n&quot; . $hashedRequestPayload; step 2: build string to sign $date = gmdate(&quot;Y-m-d&quot;, $timestamp); $credentialScope = $date . &quot;/&quot; . $service . &quot;/tc3_request&quot;; $hashedCanonicalRequest = hash(&quot;SHA256&quot;, $canonicalRequest); $stringToSign = $algorithm . &quot;\\n&quot; . $timestamp . &quot;\\n&quot; . $credentialScope . &quot;\\n&quot; . $hashedCanonicalRequest; step 3: sign string $secretDate = hash_hmac(&quot;SHA256&quot;, $date, &quot;TC3&quot; . $secretKey, true); $secretService = hash_hmac(&quot;SHA256&quot;, $service, $secretDate, true); $secretSigning = hash_hmac(&quot;SHA256&quot;, &quot;tc3_request&quot;, $secretService, true); $signature = hash_hmac(&quot;SHA256&quot;, $stringToSign, $secretSigning); step 4: build authorization $authorization = $algorithm . &quot; Credential=&quot; . $secretId . &quot;/&quot; . $credentialScope . &quot;, SignedHeaders=content-type;host, Signature=&quot; . $signature; return $result = [ &apos;action&apos; =&gt; $action, &apos;version&apos; =&gt; $version, &apos;region&apos; =&gt; $region, &apos;timestamp&apos; =&gt; $timestamp, &apos;httpRequestMethod&apos; =&gt; $httpRequestMethod, &apos;canonicalUri&apos; =&gt; $canonicalUri, &apos;canonicalQueryString&apos; =&gt; $canonicalQueryString, &apos;authorization&apos; =&gt; $authorization, &apos;host&apos; =&gt; $host, &apos;payload&apos; =&gt; $payload ]; }GET ç­¾åæ–¹æ³•v1$secretId = &quot;è…¾è®¯äº‘id&quot;; $secretKey = &quot;è…¾è®¯äº‘key&quot;; $param[&quot;Nonce&quot;] = rand();//rand(); $param[&quot;Timestamp&quot;] = time();//time(); $param[&quot;Region&quot;] = &quot;ap-guangzhou&quot;; $param[&quot;SecretId&quot;] = $secretId; $param[&quot;Version&quot;] = &quot;2019-03-21&quot;; $param[&quot;Action&quot;] = &quot;DescribeTextSample&quot;; //$param[&quot;InstanceIds.0&quot;] = &quot;ins-09dx96dg&quot;; $time =time(); $rand = rand(); ksort($param); $signStr = &quot;GETcms.tencentcloudapi.com/?&quot;; foreach ( $param as $key =&gt; $value ) { $signStr = $signStr . $key . &quot;=&quot; . $value . &quot;&amp;&quot;; } $signStr = substr($signStr, 0, -1); $signature = base64_encode(hash_hmac(&quot;sha1&quot;, $signStr, $secretKey, true)); $signature = urlencode($signature); $param[&apos;Signature&apos;] = $signature; ksort($param); $signStr=&quot;https://cms.tencentcloudapi.com/?&quot;; foreach ( $param as $key =&gt; $value ) { $signStr = $signStr . $key . &quot;=&quot; . $value . &quot;&amp;&quot;; } //å»æ‰&amp; $signStr = substr($signStr, 0, -1); $weather=curl_init(); header(&quot;Content-type: text/html; charset=utf-8&quot;); curl_setopt($weather,CURLOPT_URL,$signStr); curl_setopt($weather,CURLOPT_SSL_VERIFYPEER,false); curl_setopt($weather,CURLOPT_RETURNTRANSFER,1); curl_setopt($weather,CURLOPT_HTTPHEADER,array( &apos;Content-Type:application/x-www-form-urlencoded&apos;, &apos;Host: cms.tencentcloudapi.com&apos;, &apos;charset:utf8&apos; ) ); $data = curl_exec($weather);","categories":[],"tags":[{"name":"php","slug":"php","permalink":"http://yoursite.com/tags/php/"}]},{"title":"æ‰‹å†™workerman","slug":"handWorkerman","date":"2020-04-08T12:20:30.000Z","updated":"2020-04-09T06:38:15.221Z","comments":true,"path":"2020/04/08/handWorkerman/","link":"","permalink":"http://yoursite.com/2020/04/08/handWorkerman/","excerpt":"","text":"Workerç±»","categories":[],"tags":[{"name":"php","slug":"php","permalink":"http://yoursite.com/tags/php/"}]},{"title":"tp5.1->facade","slug":"facade","date":"2020-04-06T15:30:30.000Z","updated":"2020-06-09T06:33:53.725Z","comments":true,"path":"2020/04/06/facade/","link":"","permalink":"http://yoursite.com/2020/04/06/facade/","excerpt":"","text":"é—¨é¢æ¨¡å¼ facadeå°±æ˜¯å¯ä»¥æŠŠå®é™…ç±»ä¸­éé™æ€ä¸­çš„æ–¹æ³•é€šè¿‡ä»£ç†ç±»é™æ€è°ƒç”¨ï¼Œåº”ç”¨è§£è€¦ï¼Œæä¾›äº†ä¸€ä¸ªé™æ€è°ƒç”¨æ¥å£ï¼Œç›¸æ¯”äºä¼ ç»Ÿçš„é™æ€æ–¹æ³•è°ƒç”¨ï¼Œ å¸¦æ¥äº†æ›´å¥½çš„å¯æµ‹è¯•æ€§å’Œæ‰©å±•æ€§æ¾è€¦åˆ ï¼ˆæ˜¯æ¨¡å—ä¹‹é—´çš„è”ç³»ä¸ä¼šå¤ªç´§å¯†,ç‹¬ç«‹æ€§æ¯”è¾ƒå¥½,æ–¹ä¾¿åæœŸçš„ç®¡ç†ç»´æŠ¤ï¼‰ ç»§æ‰¿Facadeç±» é‡å†™æ–¹æ³•getFacadeClassæ–¹æ³•æ˜¾å¼æŒ‡å®šè¦é™æ€ä»£ç†çš„ç±»ï¼Œå¯ä»¥åœ¨è°ƒç”¨çš„æ—¶å€™è¿›è¡ŒåŠ¨æ€ç»‘å®šï¼š common.phpæ–‡ä»¶ä¸­ ä¼˜åŒ–é…ç½®åœ¨config.php=&gt;facade.php åœ¨behaviorè¡Œä¸ºä¸­ä¸€ä¸ªåŠ è½½è¡Œä¸ºçš„ç±» ç„¶åå†thinkphpä¸­çš„tags.phpè¡Œä¸ºæ‰©å±•æ–‡ä»¶ä¸­ app_initåˆå§‹åŒ– ä»¥ä¸Šä¸‰ç§æ–¹å¼éƒ½OK","categories":[],"tags":[{"name":"php","slug":"php","permalink":"http://yoursite.com/tags/php/"}]},{"title":"docker","slug":"docker","date":"2020-04-06T15:30:30.000Z","updated":"2020-06-06T01:54:13.236Z","comments":true,"path":"2020/04/06/docker/","link":"","permalink":"http://yoursite.com/2020/04/06/docker/","excerpt":"","text":"dockerå‘½ä»¤ dockeré•œåƒåŠ é€Ÿä¿®æ”¹daemon.json $ sudo systemctl daemon-reload $ sudo systemctl restart docker è·å–é•œåƒ docker pull ubuntu:16.04(ç‰ˆæœ¬å·) ä¸åŠ é»˜è®¤ä¸ºlatest è¿è¡Œå®¹å™¨ docker run -it â€“rm ubuntu:16.04 bashâ€“rm (å½“å®¹å™¨é€€å‡ºçš„æ—¶å€™è‡ªåŠ¨åˆ é™¤)-it -i äº¤äº’å¼æ“ä½œ -t ç»ˆç«¯ æŸ¥çœ‹å½“å‰ç‰ˆæœ¬ç³»ç»Ÿ cat /etc/os-release åˆ—å‡ºé•œåƒ æŸ¥çœ‹æ‰€æœ‰è¯¦æƒ…docker image ls åˆ—å‡ºid docker image ls -q è‡ªå®šä¹‰åˆ—å‡ºä¿¡æ¯æ ¼å¼ docker image ls --format &quot;{{.ID}}:{{.Repository}}&quot; è¡¨æ ¼å½¢å¼ docker image ls --format &quot;table {{.ID}}\\t{{.Repository}}\\t{{.Tag}}&quot; é•œåƒä½“ç§¯ docker system df è™šæ‚¬é•œåƒ(æ²¡æœ‰ä»“åº“å,ä¹Ÿæ²¡æœ‰æ ‡ç­¾) æŸ¥çœ‹ docker image ls -f dangling=true åˆ é™¤ docker image prune åˆ é™¤æœ¬åœ°é•œåƒ ç”¨ IDã€é•œåƒåã€æ‘˜è¦åˆ é™¤é•œåƒ å…¶ä¸­ï¼Œ&lt;é•œåƒ&gt;å¯ä»¥æ˜¯ é•œåƒçŸ­IDã€é•œåƒé•¿IDã€é•œåƒå æˆ–è€… é•œåƒæ‘˜è¦ ã€‚ docker image rm çŸ­ID(IDå‰3ä¸ªå­—ç¬¦ä»¥ä¸Š) æŸ¥çœ‹é•œåƒæ‘˜è¦ docker image ls -digests ç”¨docker image ls å‘½ä»¤æ¥é…åˆ docker image rm $(docker image ls -q redis) å®šåˆ¶ä¸€ä¸ªWebæœåŠ¡å™¨ docker run --name webserver -d -p 80:80 nginx æ¢ä¸»é¡µé¢ docker exec -it webserver bash echo &apos;&lt;h1&gt;Hello, Docker!&lt;/h1&gt;&apos; &gt; /usr/share/nginx/html/index.html -dï¼šè¡¨ç¤ºä»¥â€œå®ˆæŠ¤æ¨¡å¼â€æ‰§è¡Œ/root/run.shè„šæœ¬ï¼Œæ­¤æ—¶ Tomcat æ§åˆ¶å°ä¸ä¼šå‡ºç°åœ¨è¾“å‡ºç»ˆç«¯ä¸Šã€‚ -pï¼šè¡¨ç¤ºå®¿ä¸»æœºä¸å®¹å™¨çš„ç«¯å£æ˜ å°„ï¼Œæ­¤æ—¶å°†å®¹å™¨å†…éƒ¨çš„ 8080 ç«¯å£æ˜ å°„ä¸ºå®¿ä¸»æœºçš„ 58080 ç«¯å£ï¼Œ è¿™æ ·å°±å‘å¤–ç•Œæš´éœ²äº† 58080 ç«¯å£ï¼Œå¯é€šè¿‡ Docker ç½‘æ¡¥æ¥è®¿é—®å®¹å™¨å†…éƒ¨çš„ 8080 ç«¯å£äº†ã€‚ ä¿®æ”¹äº†å®¹å™¨çš„æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯æ”¹åŠ¨äº†å®¹å™¨çš„å­˜å‚¨å±‚ ,å¯ä»¥é€šè¿‡docker diff å®¹å™¨å å‘½ä»¤çœ‹åˆ°å…·ä½“çš„æ”¹åŠ¨ å®šåˆ¶å¥½å˜åŒ–,åˆ©ç”¨docker commit å¯ä»¥æ„æˆæ–°çš„é•œåƒdocker commit â€“author â€œâ€â€“message â€œâ€webserver nginx:v2 æŸ¥çœ‹é•œåƒçš„å†å²è®°å½• docker history nginx:v2 å®¹å™¨è®¾ä¸ºåˆ«å docker tag redis apweb/redis:v1 COPY æŒ‡ä»¤å°†ä»æ„å»ºä¸Šä¸‹æ–‡ç›®å½•ä¸­&lt;æºè·¯å¾„&gt;çš„æ–‡ä»¶/ç›®å½•å¤åˆ¶åˆ°æ–°çš„ä¸€å±‚çš„é•œåƒå†…çš„&lt;ç›®æ ‡è·¯ å¾„&gt;ä½ç½® ä»…åœ¨éœ€è¦è‡ªåŠ¨è§£å‹ç¼©çš„åœºåˆä½¿ç”¨ ADD export å¯¼å‡ºå®¹å™¨ï¼ˆå°ï¼‰ save é•œåƒ (å¤§) docker export 7691a814370e &gt; ubuntu.tar import å¯¼å…¥ å®¹å™¨æˆä¸ºäº†é•œåƒ docker import - test/ubuntu:v1.0 æŸ¥çœ‹å®¹å™¨è¯¦æƒ… docker inspect ENTRYPOINTç”¨äºæŒ‡å®šå®¹å™¨è¿è¡Œç¨‹åºå’Œå‚æ•° CMD æŒ‡ä»¤å°±æ˜¯ç”¨äºæŒ‡å®šé»˜è®¤çš„å®¹å™¨ä¸»è¿›ç¨‹çš„å¯åŠ¨å‘½ä»¤çš„ åˆ›å»ºå·1.VOLUME [â€œ/wwwâ€,â€/data/mysqlâ€,â€/sys/fs/cgroupâ€] æŒ‚è½½æ•°æ®å·2.docker -v å®¿ä¸»æœºåœ°å€:å®¹å™¨åœ°å€ WORKDIR è¿›å…¥å®¹å™¨é»˜è®¤æ‰“å¼€çš„ç›®å½•","categories":[],"tags":[{"name":"php","slug":"php","permalink":"http://yoursite.com/tags/php/"}]},{"title":"workerman","slug":"workerman","date":"2020-04-01T12:20:30.000Z","updated":"2020-04-09T06:38:15.216Z","comments":true,"path":"2020/04/01/workerman/","link":"","permalink":"http://yoursite.com/2020/04/01/workerman/","excerpt":"","text":"Workermanæ¦‚å¿µ/çŸ¥è¯†ç‚¹ TCP ä¼ è¾“å±‚åè®®TCPæ˜¯ä¸€ç§é¢å‘è¿æ¥çš„ã€å¯é çš„ã€åŸºäºIPçš„ä¼ è¾“å±‚åè®® HTTPã€WebSocketéƒ½å±äºåº”ç”¨å±‚åè®® teståè®® åè®®æ ¼å¼ä¸º æ•°æ®åŒ…+æ¢è¡Œç¬¦ï¼Œæ¯ä¸ªæ•°æ®åŒ…æœ«å°¾åŠ ä¸Šä¸€ä¸ªæ¢è¡Œç¬¦è¡¨ç¤ºåŒ…çš„ç»“æŸã€‚ é€šå¸¸å¼€å¯ä¸€ä¸ªå†…éƒ¨ç«¯å£ï¼Œæ–¹ä¾¿å†…éƒ¨ç³»ç»Ÿæ¨é€ï¼ˆç¡¬ä»¶é€šè®¯/æ‰‹æœºAppä¼ è¾“æ•°æ®ï¼‰ å¿ƒè·³(é•¿è¿æ¥) //1s ä¸ºè§¦å‘å¿ƒè·³çš„æ—¶é—´ //$conn å®¢æˆ·ç«¯çš„è¿æ¥ fd \\Workerman\\lib\\Timer:add(1,function() use ($conn){ //å‘é€ç»™å®¢æˆ·ç«¯ $conn-&gt;send([&apos;type&apos;=&gt;&apos;ping&apos;]); }) èµ‹å€¼è¿‡ç¨‹è¿è¡Œåœ¨ä¸»è¿›ç¨‹è¿è¡Œåœ¨å­è¿›ç¨‹ (å‡å¦‚)1ä¸ªworkerå®ä¾‹æœ‰å¤šä¸ªè¿›ç¨‹è¿›ç¨‹ç¼–å·idçš„åˆ†é…æ˜¯åŸºäºæ¯ä¸ªworkerå®ä¾‹çš„($worker-&gt;id) è¿›ç¨‹æ•°è®¾ç½®åŸåˆ™ å¦‚æœæ˜¯IOå¯†é›†å‹ï¼Œä¹Ÿå°±æ˜¯ä¸šåŠ¡ä¸­æ¶‰åŠåˆ°ä¸€äº›é˜»å¡å¼IOï¼Œæ¯”å¦‚ä¸€èˆ¬çš„è®¿é—®Mysqlã€Redisç­‰å­˜å‚¨éƒ½æ˜¯é˜»å¡å¼è®¿é—®çš„ï¼Œè¿›ç¨‹æ•°å¯ä»¥å¼€å¤§ä¸€äº›ï¼Œå¦‚é…ç½®æˆCPUæ ¸æ•°çš„3å€ã€‚ å¦‚æœæ˜¯CPUå¯†é›†å‹ï¼Œä¹Ÿå°±æ˜¯ä¸šåŠ¡ä¸­æ²¡æœ‰é˜»å¡å¼IOå¼€é”€ï¼Œä¾‹å¦‚ä½¿ç”¨å¼‚æ­¥IOè¯»å–ç½‘ç»œèµ„æºï¼Œè¿›ç¨‹ä¸ä¼šè¢«ä¸šåŠ¡ä»£ç é˜»å¡çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥æŠŠè¿›ç¨‹æ•°è®¾ç½®æˆå’ŒCPUæ ¸æ•°ä¸€æ · è®¾ç½®Workerå®ä¾‹åç§°($worker-&gt;name) éå†å½“å‰è¿›ç¨‹æ‰€æœ‰çš„å®¢æˆ·ç«¯è¿æ¥($worker-&gt;connections as $v) è®¾ç½®Workerå­è¿›ç¨‹å¯åŠ¨æ—¶å›è°ƒçš„å‡½æ•°onWorkerStart åˆ›ç«‹è¿æ¥è·å–å¯¹æ–¹IPï¼šgetRemoteIp() å¦‚æœæƒ³è¦ç¨‹åºå½“æ•°é‡è¾¾åˆ°max_requestä½¿ç”¨é‡æ–°å¯åŠ¨ä¸€ä¸ªå…¨æ–°è¿›ç¨‹(Worker::stopAll()) æ­¤æ–¹æ³•ä¸»è¦ç”¨äºåœ¨Workerè¿›ç¨‹å¯åŠ¨ååŠ¨æ€åˆ›å»ºæ–°çš„Workerå®ä¾‹ï¼Œèƒ½å¤Ÿå®ç°åŒä¸€ä¸ªè¿›ç¨‹ç›‘å¬å¤šä¸ªç«¯å£ï¼Œæ”¯æŒå¤šç§åè®®($worker-&gt;listen()); å°†å±å¹•æ‰“å°è¾“å‡ºåˆ°Worker::$stdoutFileæŒ‡å®šçš„æ–‡ä»¶ä¸­(Worker::$stdoutFile)","categories":[],"tags":[{"name":"php","slug":"php","permalink":"http://yoursite.com/tags/php/"}]},{"title":"nginx_function","slug":"nginxOther","date":"2020-03-07T12:20:30.000Z","updated":"2020-05-11T02:28:23.438Z","comments":true,"path":"2020/03/07/nginxOther/","link":"","permalink":"http://yoursite.com/2020/03/07/nginxOther/","excerpt":"","text":"è´Ÿè½½å‡è¡¡ nginxåå‘ä»£ç†æœåŠ¡å™¨æ¥æ”¶åˆ°çš„è¯·æ±‚æ•°é‡ï¼Œå°±æ˜¯æˆ‘ä»¬è¯´çš„è´Ÿè½½é‡,è¯·æ±‚çš„æ•°é‡æŒ‰ç…§ä¸€å®šçš„è§„åˆ™è¿›è¡Œåˆ†å‘,åˆ°ä¸åŒçš„æœåŠ¡å™¨å¤„ç†çš„è§„åˆ™,å°±æ˜¯ä¸€ç§å‡è¡¡è§„åˆ™ å°†æœåŠ¡å™¨æ¥æ”¶åˆ°è¯·æ±‚æŒ‰ç…§è§„åˆ™åˆ†å‘çš„è¿‡ç¨‹,ç§°è´Ÿè½½å‡è¡¡. Nginx è´Ÿè½½å‡è¡¡è°ƒåº¦(upstream)1.weight é»˜è®¤ï¼ˆè½®è¯¢ï¼‰æ±‚æŒ‰ç…§æ—¶é—´é¡ºåºè½®æµåˆ†é…åˆ°ä¸åŒçš„åç«¯æœåŠ¡å™¨ï¼Œ å¦‚æœæŸä¸ªåç«¯æœåŠ¡å™¨downæ‰åï¼Œèƒ½è‡ªåŠ¨å‰”é™¤ã€‚ æƒé‡æ•°æ®è¶Šå¤§ï¼Œåˆ™è¢«åˆ†é…åˆ°çš„æœåŠ¡å™¨è¯·æ±‚å‡ ç‡è¶Šå¤§ 2.ip_hash ä¸€ä¸ªå›ºå®šçš„ipåœ°å€æ€»ä¼šè®¿é—®åˆ°åŒä¸€ä¸ªåç«¯çš„æœåŠ¡å™¨ä¸Š,é—®é¢˜æ˜¯é›†ç¾¤éƒ¨ç½²ç¯å¢ƒä¸‹Sessionå…±äº«çš„é—®é¢˜ é…ç½®ï¼šupstream server_name { server **.***.***.***:8080 weight=1; server **.***.***.***:8090 weight=2; }åŠ¨é™åˆ†ç¦» å½“è®¿é—®é™æ€èµ„æºæ—¶,è·¯ç”±åˆ°ä¸€å°é™æ€èµ„æºæœåŠ¡å™¨,å½“è®¿é—®éé™æ€èµ„æºæ—¶,è·¯ç”±åˆ°å¦å¤–ä¸€å°æœåŠ¡å™¨ nginx é…ç½® if (!-e $request_filename) { rewrite ^(.*)$ /index.php?s=/$1 last; break; } location ~ .php(.*) { fastcgi_pass 127.0.0.1:9000; fastcgi_index index.php; fastcgi_split_path_info ^((?U).+\\.php)(/?.+)$; fastcgi_param HTTPS on; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; fastcgi_param PATH_INFO $fastcgi_path_info; fastcgi_param PATH_TRANSLATED $document_root$fastcgi_path_info; include fastcgi_params; }","categories":[],"tags":[{"name":"nginx","slug":"nginx","permalink":"http://yoursite.com/tags/nginx/"}]},{"title":"nginx","slug":"nginx","date":"2020-03-01T12:20:30.000Z","updated":"2020-03-26T11:56:32.000Z","comments":true,"path":"2020/03/01/nginx/","link":"","permalink":"http://yoursite.com/2020/03/01/nginx/","excerpt":"","text":"nginx Nginxæ˜¯ä¸€æ¬¾è½»é‡çº§çš„Web æœåŠ¡å™¨/åå‘ä»£ç†æœåŠ¡å™¨ï¼Œåœ¨BSD-like åè®®ä¸‹å‘è¡Œã€‚å…¶ç‰¹ç‚¹æ˜¯å æœ‰å†…å­˜å°‘ï¼Œå¹¶å‘èƒ½åŠ›å¼º æ­£å‘ä»£ç† é€»è¾‘ï¼šæˆ‘ä»¬å°†è¯·æ±‚å‘é€ç»™ä»£ç†æœåŠ¡å™¨ï¼Œä»£ç†æœåŠ¡å™¨å»è®¿é—®å›½å¤–çš„ç½‘ç«™å¾—åˆ°çš„æ•°æ®å†ä¼ é€’ç»™æˆ‘ä»¬ï¼Œæ­£å‘ä»£ç†æ¨¡å¼å±è”½æˆ–è€…éšè—äº†çœŸå®å®¢æˆ·ç«¯ä¿¡æ¯ã€‚ ç‰¹ç‚¹ï¼šå®¢æˆ·ç«¯å¾ˆæ˜ç¡®è¦è®¿é—®çš„æœåŠ¡å™¨åœ°å€ï¼Œå¯ä»¥åšç¼“å­˜ï¼ŒåŠ é€Ÿè®¿é—®èµ„æº åå‘ä»£ç† é€»è¾‘ï¼šå¯¹äºç”¨æˆ·è€Œè¨€åå‘ä»£ç†æœåŠ¡å™¨ç›¸å½“äºç›®æ ‡æœåŠ¡å™¨ï¼Œè®¿é—®å³å¯è·å¾—ç›®æ ‡æœåŠ¡å™¨çš„æ•°æ®ï¼Œåå‘ä»£ç†æœåŠ¡å™¨å¯¹å¤–æ˜¯é€æ˜çš„ é…ç½®ï¼š location / { proxy_pass server_name; } ç‰¹ç‚¹ï¼šæœåŠ¡å™¨é›†ç¾¤åˆ†å¸ƒå¼éƒ¨ç½²(TOMCATæœåŠ¡å™¨) è´Ÿè½½å‡è¡¡åœ¨ä¸€ç¯‡ä¸­ä»‹ç» åˆ†å¸ƒå¼é”è¿ç”¨ï¼šå½“åœ¨é«˜å¹¶å‘çš„æƒ…å†µä¸‹é˜²æ­¢å‘ç”ŸåŒæ ·çš„æ“ä½œ try{//è¿™ä¸ªlockKeyæ˜¯å¦å­˜åœ¨å­˜åœ¨åˆ™æ·»åŠ å¤±è´¥,è¡¨ç¤ºæ²¡æœ‰æ‰§è¡Œåˆ°åˆ é™¤$result = setnx(â€˜lockKeyâ€™,â€™suoâ€™); if(!$result){ throw new BaseException(&apos;ç³»ç»Ÿç¹å¿™&apos;); } ä¸šåŠ¡é€»è¾‘ä»£ç  }finally{del(â€˜lockKeyâ€™);//åˆ é™¤é” } åŒºåˆ« 1.åœ¨æ­£å‘ä»£ç†ä¸­ï¼ŒProxy å’Œ Client åŒå±äºä¸€ä¸ªï¼Œéšè—äº†å®¢æˆ·ç«¯ä¿¡æ¯ã€‚åœ¨åå‘ä»£ç†ä¸­ï¼ŒProxy å’Œ Server åŒå±äºä¸€ä¸ªï¼Œéšè—äº†æœåŠ¡ç«¯ä¿¡æ¯ã€‚ 2.Proxy åœ¨ä¸¤ç§ä»£ç†ä¸­åšçš„äº‹æƒ…éƒ½æ˜¯æ›¿æœåŠ¡å™¨ä»£ä¸ºæ”¶å‘è¯·æ±‚å’Œå“åº”","categories":[],"tags":[{"name":"nginx","slug":"nginx","permalink":"http://yoursite.com/tags/nginx/"}]},{"title":"linux","slug":"linux","date":"2020-03-01T09:20:30.000Z","updated":"2020-05-12T06:42:03.155Z","comments":true,"path":"2020/03/01/linux/","link":"","permalink":"http://yoursite.com/2020/03/01/linux/","excerpt":"","text":"LINUXåŸºç¡€å‘½ä»¤æŸ¥çœ‹æ–‡ä»¶ ls -l æŸ¥çœ‹æ–‡ä»¶è¯¦æƒ…ä¿¡æ¯ ls -a æŸ¥çœ‹ç›®å½•æ‰€æœ‰æ–‡ä»¶åŒ…æ‹¬éšè—æ–‡ä»¶ï¼Œç‚¹å¼€å¤´çš„å°±æ˜¯éšè—æ–‡ä»¶ ls -al æŸ¥çœ‹ç›®å½•æ‰€æœ‰è¯¦ç»†ä¿¡æ¯æ–‡ä»¶ åŒ…æ‹¬éšè—æ–‡ä»¶ ç”¨æˆ·æ“ä½œ whoami æˆ‘æ˜¯è° su -åˆ‡æ¢ç”¨æˆ· $æ™®é€šç”¨æˆ· exit é€€å›åˆ°åŸç”¨æˆ· ~æ˜¯å½“å‰ç”¨æˆ·ç›®å½• /æ˜¯æ ¹ç›®å½• å›¾å½¢ç•Œé¢ä¸å‘½ä»¤ç•Œé¢åˆ‡æ¢ // # init3 åˆ‡æ¢åˆ°å‘½ä»¤ç•Œé¢ // # init5 åˆ‡æ¢åˆ°å›¾å½¢ç•Œé¢ æŸ¥çœ‹ä¸€ä¸ªæŒ‡ä»¤å¯¹åº”çš„æ‰§è¡Œç¨‹åºæ–‡ä»¶åœ¨å“ª which æŒ‡ä»¤ ä¸whichä¸åŒçš„æ˜¯è¿™æ¡å‘½ä»¤å¯ä»¥æ˜¯é€šè¿‡æ–‡ä»¶ç´¢å¼•æ•°æ®åº“è€ŒéPATHæ¥æŸ¥æ‰¾çš„ï¼Œæ‰€ä»¥æŸ¥æ‰¾çš„é¢æ¯”whichè¦å¹¿whereis pwd è¯¦ç»†ç‚¹which pwd ç›®å½•çš„ç›¸å…³æ“ä½œ1)åˆ›å»ºç›®å½• make directory mkdir ç›®å½•åå­— mkdir -p newdir/newdir åˆ›å»ºå¤šä¸ªè¿ç»­æ–°ç›®å½• mkdir dir/newdir ç§»åŠ¨ç›®å½• move mv dir1 dir2 æŠŠdir1ç§»åŠ¨åˆ°dir2ç›®å½•ä¸‹ mv dir1/dir2 dir3 æŠŠdir1ä¸‹çš„dir2ç§»åŠ¨åˆ°dir3ç›®å½•ä¸‹ mv dir1/dir2 dir3/dir4 æŠŠdir1ä¸‹çš„dir2 ç§»åŠ¨åˆ°dir3ä¸‹çš„dir4ä¸‹ mv dir1/dir2 ./ æŠŠdir2ç§»åŠ¨åˆ°dir1æ–‡ä»¶ç›®å½•ä¸‹ æ”¹åå­— mv dir1 newdir dir1æ”¹åå­—ä¸ºnewdirç›®å½•å¤åˆ¶ cp dir dir1 å¦‚æœdirå«æœ‰diré‚£ä¹ˆå°±è¦è®¾ç½®-r[recursiveé€’å½’]å‚æ•°ï¼Œæ— è§†ç›®å½•çš„å±‚æ¬¡ cp file dir å¤åˆ¶æ–‡ä»¶åˆ°dirç›®å½• cp file dir/newfile å¤åˆ¶æ–‡ä»¶åˆ°dirç›®å½•å¹¶æ”¹åå­—ä¸ºnewfile echo â€œè¾“å‡ºå†…å®¹â€&gt;file åœ¨fileæ–‡ä»¶å­˜å–å†…å®¹åˆ é™¤æ–‡ä»¶å’Œç›®å½• removerm æ–‡ä»¶rm -r ç›®å½• -r[recursiveé€’å½’]é€’å½’æ–¹å¼åˆ é™¤ç›®å½•rm -rf æ–‡ä»¶/ç›®å½• -r force é€’å½’å¼ºåˆ¶æ–¹å¼åˆ é™¤æ–‡ä»¶æˆ–ç›®å½•æ–‡ä»¶æ“ä½œæŸ¥çœ‹æ–‡ä»¶å†…å®¹ cat filename æ‰“å°æ–‡ä»¶å†…å®¹è¾“å‡ºåˆ°ç»ˆç«¯ more filename é€šè¿‡æ•²å›è½¦æ–¹å¼é€è¡ŒæŸ¥çœ‹æ–‡ä»¶çš„å„ä¸ªè¡Œå†…å®¹é»˜è®¤ä»ç¬¬ä¸€è¡Œå¼€å§‹æŸ¥çœ‹ qé€€å‡ºæŸ¥çœ‹ less é€šè¿‡ä¸Šä¸‹å·¦å³ æŸ¥çœ‹æ–‡ä»¶çš„ä¸ªä¸ªå†…å®¹ qé€€å‡ºæŸ¥çœ‹ -m æ˜¾ç¤ºç™¾åˆ†æ¯” -N æ˜¾ç¤ºæ¯è¡Œçš„è¡Œå· head -n filename æŸ¥çœ‹æ–‡ä»¶çš„å‰nè¡Œå†…å®¹ tail -n filename æŸ¥çœ‹æ–‡ä»¶çš„æœ€æœ«å°¾Nè¡Œå†…å®¹ wc filename æŸ¥çœ‹æ–‡ä»¶çš„è¡Œæ•° æ€»æ•° å¤§å° åˆ›å»ºæ–‡ä»¶touch filename ç»™æ–‡ä»¶è¿½åŠ å†…å®¹// &gt;echo å†…å®¹ æ–‡ä»¶åç§° æŠŠå†…å®¹è¦†ç›–åˆ°æ–‡ä»¶// &gt;echo å†…å®¹ &gt;&gt; æ–‡ä»¶è¿½åŠ åˆ°æ–‡ä»¶ linux å¦å¤–æ“ä½œ error_reporting = E_ALL &amp; ~E_DEPRECATED &amp; ~E_STRICT é”™è¯¯çº§åˆ« phpizeæ˜¯ç”¨æ¥æ‰©å±•phpæ‰©å±•æ¨¡å—çš„configure â€“prefix=/â€çš„ä½œç”¨æ˜¯ï¼šç¼–è¯‘çš„æ—¶å€™ç”¨æ¥æŒ‡å®šç™¾ç¨‹åºå­˜æ”¾è·¯å¾„ ã€‚ 1ï¼Œâ€“enable æ˜¯å¯ç”¨è½¯ä»¶æºç åŒ…è‡ªå¸¦ â€“enable-åŒ…å[=arg]ï¼Œä½†æ˜¯é»˜è®¤ä¸å¯ç”¨çš„åŠŸèƒ½æ¨¡å—ã€‚ 2ï¼Œâ€“with æ˜¯æŒ‡å®šä¾èµ–çš„èµ„æºåº“çš„ä½ç½® â€“whit-ä¾èµ–åŒ…åç§°[=ä¾èµ–åŒ…ç›®å½•]ï¼Œå¦‚æœæ˜¯é»˜è®¤ä½ç½®ï¼Œlè·¯å¾„å°±å¯ä»¥ç•™ç©ºã€‚ ps aux æŸ¥çœ‹è¿›ç¨‹ free -m å†…å­˜å‰©ä½™ df -h ç£ç›˜å‰©ä½™ ç½‘ç»œé…ç½® TYPE=Ethernet PROXY_METHOD=none BROWSER_ONLY=no BOOTPROTO=static DEFROUTE=yes IPV4_FAILURE_FATAL=no IPV6INIT=yes IPV6_AUTOCONF=yes IPV6_DEFROUTE=yes IPV6_FAILURE_FATAL=no IPV6_ADDR_GEN_MODE=stable-privacy NAME=eth0 UUID=717998a3-5a00-40ae-961b-746a97470439 DEVICE=eth0 ONBOOT=yes IPADDR=192.168.28.20 NETMASK=255.255.255.0 GATEWAY=192.168.28.1 DNS1=8.8.8.8 DNS2=4.4.4.4 HWADDR=******","categories":[],"tags":[{"name":"linux","slug":"linux","permalink":"http://yoursite.com/tags/linux/"}]},{"title":"index","slug":"mIndex","date":"2020-02-27T12:10:30.000Z","updated":"2020-03-26T11:56:32.000Z","comments":true,"path":"2020/02/27/mIndex/","link":"","permalink":"http://yoursite.com/2020/02/27/mIndex/","excerpt":"","text":"ç´¢å¼• ç´¢å¼•çš„ä¸€ä¸ªä¸»è¦ç›®çš„å°±æ˜¯åŠ å¿«æ£€ç´¢è¡¨ä¸­æ•°æ®ï¼Œäº¦å³èƒ½ååŠ©ä¿¡æ¯æœç´¢è€…å°½å¿«çš„æ‰¾åˆ°ç¬¦åˆé™åˆ¶æ¡ä»¶çš„è®°å½•IDçš„è¾…åŠ©æ•°æ®ç»“æ„ã€‚","categories":[],"tags":[{"name":"mysql","slug":"mysql","permalink":"http://yoursite.com/tags/mysql/"}]},{"title":"nosql","slug":"nosql","date":"2020-02-24T12:20:30.000Z","updated":"2020-03-25T13:03:30.000Z","comments":true,"path":"2020/02/24/nosql/","link":"","permalink":"http://yoursite.com/2020/02/24/nosql/","excerpt":"","text":"NoSQL éå…³ç³»å‹æ•°æ®åº“ ï¼ˆæ•°æ®ä¸æ•°æ®ä¹‹é—´æ²¡æœ‰å…³è”å…³ç³»ï¼‰æ•°æ®åº“å››å¤§åˆ†ç±» 1.é”®å€¼å­˜å‚¨æ•°æ®åº“(Redis,Oracle BDB) 2.åˆ—å­˜å‚¨æ•°æ®åº“-é”®ä»ç„¶å­˜åœ¨,ä½†å®ƒä»¬çš„ç‰¹ç‚¹æŒ‡å‘äº†å¤šä¸ªåˆ— ï¼ˆCassandra HBaseï¼‰ 3.æ–‡æ¡£æ•°æ®åº“-å…è®¸ä¹‹é—´åµŒå¥—é”®å€¼ (Mong oDb) 4.å›¾å½¢(Graph)æ•°æ®åº“ Neo4J å“ªç§æƒ…å†µä¸‹ 1.æ•°æ®æ¨¡å‹æ¯”è¾ƒç®€å• 2.éœ€è¦çµæ´»æ€§æ›´å¼ºçš„ITç³»ç»Ÿ 3.å¯¹æ•°æ®åº“çš„æ€§èƒ½è¦æ±‚æ¯”è¾ƒé«˜ 4.ä¸éœ€é«˜åº¦çš„æ•°æ®ä¸€è‡´æ€§ 5.å¯¹äºç»™å®škey,æ¯”è¾ƒå®¹æ˜“æ˜ å°„å¤æ‚å€¼çš„ç¯å¢ƒã€‚SQL å…³ç³»å‹æ•°æ®åº“ (è¡¨ä¸è¡¨ä¹‹é—´å»ºç«‹å…³è”å…³ç³»)è§£å†³å¤§è§„æ¨¡æ•°æ®é›†åˆå¤šé‡æ•°æ®ç§ç±»å¸¦æ¥çš„æŒ‘æˆ˜","categories":[],"tags":[{"name":"nosql","slug":"nosql","permalink":"http://yoursite.com/tags/nosql/"}]},{"title":"redis_operate","slug":"redisOpreate","date":"2020-02-24T12:20:30.000Z","updated":"2020-03-25T13:03:02.000Z","comments":true,"path":"2020/02/24/redisOpreate/","link":"","permalink":"http://yoursite.com/2020/02/24/redisOpreate/","excerpt":"","text":"shutdownå…³é—­ redis-cli -hIPåœ°å€ -pç«¯å£ -aå¯†ç  ttl æŸ¥çœ‹å‰©ä½™å­˜æ´»æ—¶é—´ pttl å‰©ä½™è¿‡æœŸæ—¶é—´ persist ç§»é™¤è¿‡æœŸæ—¶é—´ expire è®¾ç½®å­˜æ´»æ—¶é—´ keys *ä»£è¡¨æ‰€æœ‰ ?è¡¨ç¤ºä»£è¡¨ä¸€ä¸ªå­—ç¬¦ select åˆ‡æ¢æ•°æ®åº“ ï¼ˆ0-16ï¼‰ stringç±»å‹randomkey è¿”å›éšæœºkey rename é‡å‘½åkey move key db ç§»åŠ¨åˆ°æŸä¸ªæ•°æ®åº“ setnx ä¸å­˜åœ¨æ‰èµ‹å€¼ getrange æˆªå–å€¼ mget è·å–å¤šä¸ªkey getset è¿”å›æ—§å€¼å­˜æ–°å€¼ strlen é•¿åº¦ incr è‡ªå¢ decr è‡ªå‡ incrby è‡ªå¢å¤šå°‘ -è´Ÿå·å‡å¤šå°‘ //decrby è‡ªå‡å¤šå°‘ append è¿½åŠ å€¼æœ«å°¾hashç±»å‹hashç±»å‹ hsetå­˜å‚¨å•ä¸ªå¯¹è±¡ hget å–å‡º hmset key fieldå­˜å‚¨å¤šä¸ª hmget key field å–å¤šä¸ª hkeys key è·å–å­—æ®µ hlen key å­—æ®µæ•°é‡ hdel key field åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªå­—æ®µ hincrby key field increment -è´Ÿå·å‡å¤šå°‘ æŒ‡å®šçš„å­—æ®µæ•´æ•°å¢é‡listç±»å‹list ç±»å‹ lpush ä»å·¦ä¾§æ·»åŠ åˆ°åˆ—è¡¨å¤´éƒ¨ rpush ä»å³ä¾§æ·»åŠ  lpushx ä¸å­˜åœ¨åˆ™æ— æ•ˆ lrange key start stop 0 -1è·å–æŒ‡å®šå…§å…ƒç´  lindex key index é€šè¿‡ç´¢å¼•è·å–åˆ—è¡¨ä¸­çš„å…ƒç´  lpop ä»åˆ—è¡¨ä¸­å·¦ä¾§åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´  rpop ä»åˆ—è¡¨ä¸­å³ä¾§åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´  lrem åˆ é™¤æŒ‡å®šå€¼ blpop key timeout ç§»é™¤å¹¶è·å–åˆ—è¡¨ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœæ²¡æœ‰åˆ™é˜»å¡åˆ—è¡¨ç­‰åˆ°è¶…æ—¶æˆ–å‘ç°å…ƒç´ ä¸ºæ­¢ ltrim key start stop ä¿ç•™æŒ‡å®šèµ·å§‹çš„å…ƒç´  lset é€šè¿‡ç´¢å¼•è®¾ç½®åˆ—è¡¨å…ƒç´ çš„å€¼ linsert åœ¨åˆ—è¡¨ä¸­å…ƒç´ å‰æˆ–åæ’å…¥å…ƒç´  rpoplpush key1 key2 ä»key1ä¸­æœ€åçš„å…ƒç´ åˆ é™¤åˆ°key2å¼€å¤´æ·»åŠ  setç±»å‹sadd key member1 memeber2å‘é›†åˆæ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªæˆå‘˜ scard key è¿”å›é›†åˆçš„æˆå‘˜æ•° smembers key è¿”å›é›†åˆæ‰€æœ‰æˆå‘˜ sismemeber key member åˆ¤æ–­memeberå…ƒç´ æ˜¯å¦æ˜¯é›†åˆkeyçš„æˆå‘˜ï¼ˆæ³¨å†Œæ˜¯å¦å­˜åœ¨ï¼‰ srandmemeber key[count] è¿”å›é›†åˆä¸­ä¸€ä¸ªæˆ–å¤šä¸ªéšæœºæ•°ï¼ˆæŠ½å¥–ï¼‰ srem key memberåˆ é™¤é›†åˆä¸€ä¸ªæˆ–å¤šä¸ªæˆå‘˜ spop key count éšæœºåˆ é™¤è§„å®šæ•°é‡çš„é›†åˆæˆå‘˜å¹¶è¿”å› smove é›†åˆ1 é›†åˆ2 æˆå‘˜ å°†æˆå‘˜ä»é›†åˆ1ç§»åˆ°é›†åˆ2 sdiff key1 key2 è¿”å›å·®é›† sdiffstore jihe å­˜åˆ°jihe sinter key1 key2 è¿”å›äº¤é›† sinterstore jihe å­˜åˆ°jihe sunion key1 key2 è¿”å›å¹¶é›† sunionstore jihe å­˜åˆ°jihezSetç±»å‹zadd key score memeber å‘æœ‰åºé›†åˆä¸­æ·»åŠ æˆå‘˜ zcard key è¿”å›é›†åˆæˆå‘˜æ•° zcount key min max åœ¨æŒ‡å®šåˆ†æ•°å†…çš„æˆå‘˜æ•°é‡ zrange key start stop è¿”å›æŒ‡å®šèµ·å§‹çš„æˆå‘˜ï¼ˆä½-é«˜ï¼‰ zrevrange key start stop ï¼ˆé«˜-ä½ï¼‰ zrank key member æŸ¥è¯¢æ‰€åœ¨é›†åˆä¸­çš„ç´¢å¼•å€¼ zrem key member ç§»é™¤æœ‰åºé›†åˆä¸­çš„æˆå‘˜æˆ–å¤šä¸ªæˆå‘˜ zremrangebyrank key start stop é€šè¿‡èµ·å§‹ä¸‹æ ‡åˆ é™¤æˆå‘˜ zremrangebyscore key min max ç§»é™¤æœ‰åºé›†åˆçš„åˆ†æ•°åŒºé—´çš„æˆå‘˜","categories":[],"tags":[{"name":"redis","slug":"redis","permalink":"http://yoursite.com/tags/redis/"}]},{"title":"redis_install_conf","slug":"redisInstall","date":"2020-02-24T12:20:30.000Z","updated":"2020-03-25T13:03:10.000Z","comments":true,"path":"2020/02/24/redisInstall/","link":"","permalink":"http://yoursite.com/2020/02/24/redisInstall/","excerpt":"","text":"rediså®‰è£…1.å®‰è£…gcc redisæ˜¯cè¯­è¨€ç¼–å†™çš„ yum install gcc-c++2.ä¸‹è½½rediså®‰è£…åŒ…,åœ¨rootç›®å½•ä¸‹æ‰§è¡Œ wget http://download.redis.io/releases/redis-5.0.4.tar.gz3.è§£å‹rediså®‰è£…åŒ… tar -zxvf redis-5.0.4.tar.gz 4.è¿›å…¥redisç›®å½• cd redis-5.0.4 5.ç¼–è¯‘ make 6.å®‰è£… make PREFIX=/usr/local/redis install redis.confé…ç½®daemonize no æ”¹ä¸º yes å¯åŠ¨å®ˆæŠ¤è¿›ç¨‹ pidfile æŒ‡å®špid timeout 300 é—²ç½®æ—¶é—´å…³é—­ ä¸º0è¡¨ç¤ºå…³é—­ databases è¿æ¥æ•°æ®åº“æ•°é‡ save 900 1 æŒä¹…åŒ–æ—¶é—´900ç§’æœ‰ä¸€ä¸ªæ›´æ”¹æ‰§è¡Œ dbifilename æŒä¹…åŒ–æ•°æ®åº“å dir ./ æœ¬åœ°æ•°æ®åº“å­˜æ”¾ç›®å½• requirepass è®¾ç½®å¯†ç  maxclients å®¢æˆ·è¿æ¥æ•° maxmemory å†…å­˜æœ€å¤§è®¾ç½®","categories":[],"tags":[{"name":"redis","slug":"redis","permalink":"http://yoursite.com/tags/redis/"}]},{"title":"redis_function","slug":"redisFunction","date":"2020-02-24T11:20:30.000Z","updated":"2020-03-25T13:02:32.000Z","comments":true,"path":"2020/02/24/redisFunction/","link":"","permalink":"http://yoursite.com/2020/02/24/redisFunction/","excerpt":"","text":"è®¢é˜…é¢‘é“:subscribe channel å…³æ³¨ä¸€ä¸ªæˆ–å¤šä¸ªé¢‘é“ publish channel message å°†ä¿¡æ¯å‘é€åˆ°æŒ‡å®šé¢‘é“ unsubscribe é€€è®¢å¤šæ•°æ®åº“select åˆ‡æ¢ move key db ç§»åŠ¨é”®å€¼åˆ°å¦ä¸€ä¸ªæ•°æ®åº“ flushdb æ¸…é™¤å½“å‰æ•°æ®åº“çš„æ‰€æœ‰key flushall æ¸…æ¥šæ•´ä¸ªredisçš„æ•°æ®åº“æ‰€æœ‰keyäº‹åŠ¡multi äº‹åŠ¡å¼€å§‹ è¾“å…¥çš„å‘½ä»¤éƒ½ä¼šè¿›å…¥é˜Ÿåˆ—ä¸­ exec ä¹‹å‰çš„é˜Ÿåˆ—ä¸­ä¾æ¬¡æ‰§è¡Œ discard å–æ¶ˆäº‹åŠ¡ watch ç›‘è§†key å¦‚æœåœ¨äº‹åŠ¡æ‰§è¡Œä¸­ è¿™ä¸ªkeyæœ‰æ‰€æ”¹åŠ¨ åˆ™äº‹åŠ¡å›æ»š unwatch å–æ¶ˆwatchå¯¹æ‰€æœ‰keyçš„ç›‘è§†","categories":[],"tags":[{"name":"redis","slug":"redis","permalink":"http://yoursite.com/tags/redis/"}]},{"title":"curl","slug":"curl","date":"2020-02-15T08:20:30.000Z","updated":"2020-05-11T08:58:52.914Z","comments":true,"path":"2020/02/15/curl/","link":"","permalink":"http://yoursite.com/2020/02/15/curl/","excerpt":"","text":"curlGETè¯·æ±‚ $c = curl_init(); //åˆå§‹åŒ–curlå¥æŸ„ curl_setopt($c,CURLOPT_URL,â€™http://localhost/ss/text1.php?id=1&#39;); //è®¾ç½®ä¸€ä¸ªcurlä¼ è¾“é€‰é¡¹ è®¾ç½®è¯·æ±‚çš„url curl_setopt($c,CURLOPT_RETURNTRANSFER,1);//å°†curl_exec()è·å–çš„ä¿¡æ¯ä»¥æ–‡ä»¶æµçš„å½¢å¼è¿”å›ï¼Œè€Œä¸æ˜¯ç›´æ¥è¾“å‡º; $curl = curl_exec($c); //æ‰§è¡Œä¸€ä¸ªcurlå¥æŸ„ curl_close($c); var_dump($curl); curlPOSTè¯·æ±‚ $c = curl_init(); $url = â€˜HTTP://localhost/ss/text2.phpâ€™; $post_data = [â€˜usernameâ€™=&gt;â€™nihaolaoshiâ€™]; curl_setopt($c,CURLOPT_URL,$url); curl_setopt($c,CURLOPT_RETURNTRANSFER,1); curl_setopt($c,CURLOPT_POST,1); curl_setopt($c,CURLOPT_POSTFIELDS,$post_data); $curl = curl_exec($c); curl_close($c); var_dump($curl); curlå‡½æ•°ä¸æœåŠ¡å™¨ä½¿ç”¨å„ç§ç±»å‹çš„åè®®è¿›è¡Œè¿æ¥å’Œé€šä¿¡çš„ curl_setopt()å¸¸ç”¨é€‰é¡¹ CURLOPT_URL éœ€è¦è·å–çš„URLåœ°å€,ä¹Ÿå¯ä»¥åœ¨curl_initåˆå§‹åŒ– CURLOPT_POST å¯ç”¨æ—¶ä¼šå‘é€ä¸€ä¸ªå¸¸è§„çš„POSTè¯·æ±‚ï¼Œç±»å‹ä¸ºï¼šapplication/x-www-form-urlencodedï¼Œå°±åƒè¡¨å•æäº¤çš„ä¸€æ ·ã€‚ CURLOPT_SSL_VERIFYPEER ç¦ç”¨åcURLå°†ç»ˆæ­¢ä»æœåŠ¡ç«¯è¿›è¡ŒéªŒè¯ CURLOPT_SSL_VERIFYHOST 1 æ£€æŸ¥æœåŠ¡å™¨SSLè¯ä¹¦ä¸­æ˜¯å¦å­˜åœ¨ä¸€ä¸ªå…¬ç”¨å(common name)ã€‚è¯‘è€…æ³¨ï¼šå…¬ç”¨å(Common Name)ä¸€èˆ¬æ¥è®²å°±æ˜¯å¡«å†™ä½ å°†è¦ç”³è¯·SSLè¯ä¹¦çš„åŸŸå (domain)æˆ–å­åŸŸå(sub domain) CURLOPT_HTTPHEADER ä¸€ä¸ªç”¨æ¥è®¾ç½®HTTPå¤´å­—æ®µçš„æ•°ç»„ CURLOPT_HEADER å¯ç”¨æ—¶ä¼šå°†å¤´æ–‡ä»¶çš„ä¿¡æ¯ä½œä¸ºæ•°æ®æµè¾“å‡ºã€‚ CURLOPT_USERAGENT åœ¨HTTPè¯·æ±‚ä¸­åŒ…å«ä¸€ä¸ªâ€User-Agent: â€œå¤´çš„å­—ç¬¦ä¸² æ­¤åå¾®è½¯å¼€å‘äº†è‡ªå·±çš„æµè§ˆå™¨ï¼Œè¿™å°±æ˜¯Internet Explorer Mozilla/5.0ï¼š ç½‘æ™¯å…¬å¸æµè§ˆå™¨çš„æ ‡è¯† Mozillaä¸­æ–‡åç§°æ‘©æ–¯æ‹‰ã€‚æ›´åä¸ºNetscape å¤šå¢åŠ ä¸€äº›å­—æ®µéƒ½æ˜¯ä¸ºäº†è®©æœåŠ¡å™¨æ£€æµ‹åˆ°å®ƒæ”¯æŒçš„æµè§ˆå™¨æ ‡è¯†ï¼Œä»¥ä¾¿è·å¾—æœåŠ¡å™¨çš„å“åº” CURLOPT_FOLLOWLOCATION å¯ç”¨æ—¶ä¼šå°†æœåŠ¡å™¨æœåŠ¡å™¨è¿”å›çš„â€Location: â€œæ”¾åœ¨headerä¸­é€’å½’çš„è¿”å›ç»™æœåŠ¡å™¨ CURLOPT_AUTOREFERER è‡ªåŠ¨è®¾ç½®headerä¸­çš„refererä¿¡æ¯ CURLOPT_POSTFIELDS å…¨éƒ¨æ•°æ®ä½¿ç”¨HTTPåè®®ä¸­çš„â€POSTâ€æ“ä½œæ¥å‘é€ CURLOPT_RETURNTRANSFER å°†curl_exec()è·å–çš„ä¿¡æ¯ä»¥æ–‡ä»¶æµçš„å½¢å¼è¿”å› CURLOPT_POST å¯ç”¨æ—¶ä¼šå‘é€ä¸€ä¸ªå¸¸è§„çš„POSTè¯·æ±‚ï¼Œç±»å‹ä¸ºï¼šapplication/x-www-form-urlencodedï¼Œå°±åƒè¡¨å•æäº¤çš„ä¸€æ · CURLOPT_CUSTOMREQUEST ä½¿ç”¨ä¸€ä¸ªè‡ªå®šä¹‰çš„è¯·æ±‚ä¿¡æ¯æ¥ä»£æ›¿â€GETâ€æˆ–â€HEADâ€ä½œä¸ºHTTPè¯·æ±‚ è®¾ç½®CURLOPT_FOLLOWLOCATIONä¸ºtrueï¼Œåˆ™ä¼šè·Ÿè¸ªçˆ¬å–é‡å®šå‘é¡µé¢ï¼Œå¦åˆ™ï¼Œä¸ä¼šè·Ÿè¸ªé‡å®šå‘é¡µé¢ã€‚","categories":[],"tags":[{"name":"php","slug":"php","permalink":"http://yoursite.com/tags/php/"}]},{"title":"è®¾è®¡æ¨¡å¼","slug":"phpDesign","date":"2020-02-15T08:20:30.000Z","updated":"2020-03-26T12:02:08.000Z","comments":true,"path":"2020/02/15/phpDesign/","link":"","permalink":"http://yoursite.com/2020/02/15/phpDesign/","excerpt":"","text":"design patternså•ä¾‹æ¨¡å¼ å¦‚ä½•åœ¨æ•´ä¸ªé¡¹ç›®åˆ›å»ºå”¯ä¸€å¯¹è±¡çš„å®ä¾‹(æ•°æ®åº“è¿æ¥) å·¥å‚æ¨¡å¼ å¦‚ä½•ä¸é€šè¿‡newå»ºç«‹å®ä¾‹å¯¹è±¡ ç­–ç•¥æ¨¡å¼ å°†ä¸€ç»„åˆ¶å®šè¡Œä¸ºå’Œç®—æ³•å°è£…æˆç±» é€‚é…å™¨æ¨¡å¼ å°†å„ç§ä¸åŒå‡½æ•°æ¥å£å°è£…æˆç»Ÿä¸€API æ³¨å†Œæ¨¡å¼ å°†å¯¹è±¡æ³¨å†Œåˆ°å…¨å±€æ ‘ä¸Š","categories":[],"tags":[{"name":"php","slug":"php","permalink":"http://yoursite.com/tags/php/"}]},{"title":"regular","slug":"preg","date":"2020-01-08T08:20:30.000Z","updated":"2020-03-25T13:12:58.000Z","comments":true,"path":"2020/01/08/preg/","link":"","permalink":"http://yoursite.com/2020/01/08/preg/","excerpt":"","text":"æ­£åˆ™è¡¨è¾¾å¼##å­—ç¬¦ä¸²è§„åˆ™è¡¨è¾¾å¼-&gt;æ­£åˆ™è¡¨è¾¾å¼ pattern è¦æœç´¢çš„æ¨¡å¼,å­—ç¬¦ä¸²å½¢å¼ subject è¾“å…¥å­—ç¬¦ä¸² matches å¤šç»´æ•°ç»„,ä½œä¸ºè¾“å‡ºå‚æ•°è¾“å‡ºæ‰€æœ‰åŒ¹é…ç»“æœ preg_match_all($pattern,$subject,$matches)å…·ä½“å­—ç¬¦(å­—é¢å€¼) å­—ç¬¦è¾¹ç•Œ _^åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å§‹ -$åŒ¹é…å­—ç¬¦ä¸²çš„ç»“å°¾ &emsp; $pattern = â€˜/^hi$/â€˜ -\\båŒ¹é…å•è¯çš„å¼€å§‹å’Œç»“å°¾ -\\B åŒ¹é…å•è¯çš„éè¾¹ç•Œ &emsp; $pattern = â€˜/\\bhi\\b/â€˜ | â€˜/\\Bhi/â€˜ å­—ç¬¦é›†åˆ [ace],[0123456789] &emsp; $pattern = â€˜/[ace]/â€˜ å­—ç¬¦è¡¥é›† [^qxz]:ä¸åœ¨qxzèŒƒå›´å…§ &emsp; $pattern = â€˜/[^ace]/â€˜ å­—ç¬¦èŒƒå›´ [a-z 0-9] &emsp; $pattern = â€˜/[a-z]/â€˜å­—ç¬¦ç°‡(ç³»ç»Ÿå®šä¹‰å¥½çš„å¸¸ç”¨é›†åˆ) ç°‡ ä»£è¡¨ \\w &emsp; [a-z A-Z 0-9_] &emsp; $pattern = â€˜/\\w+/â€˜ \\W &emsp; \\wçš„è¡¥é›† &emsp; $pattern = â€˜/\\W+/â€˜ åˆ†å‰²ç©ºç™½ç¬¦ \\s &emsp; ç©ºç™½ç¬¦,åŒ…æ‹¬\\n\\r\\t\\vç­‰ $pattern = â€˜/\\s+/â€˜ ç©ºç™½ç¬¦ \\S &emsp; éç©ºç™½ç¬¦ \\d &emsp; [0-9] \\D &emsp; éæ•°å­— *åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–å¤šæ¬¡ +åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ä¸€æ¬¡æˆ–å¤šæ¬¡ ?åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–ä¸€æ¬¡ {n}næ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚åŒ¹é…å·²ç¡®å®šçš„næ¬¡ {n,m} må’Œnå‡ä¸ºéè´Ÿæ•´æ•°,å…¶ä¸­n&lt;=m,æœ€å°‘åŒ¹é…å‰é¢næ¬¡ä¸”æœ€å¤šåŒ¹é…mæ¬¡ {n,}næ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚è‡³å°‘åŒ¹é…næ¬¡è´ªå©ªæ¨¡å¼(ä¼šå°½é‡å¤šçš„åŒ¹é…) åœ¨æ•°é‡(+ * {n,})é™å®šç¬¦ååŠ ? éè´ªå©ªæ¨¡å¼ iæ¨¡å¼ ä¸åŒºåˆ†å¤§å°å†™ sæ¨¡å¼ å°†æ‰€æœ‰å†…å®¹çœ‹æˆä¸€æ•´è¡Œ uæ¨¡å¼ æŠŠä¼ å…¥çš„å‚æ•°çœ‹æˆæ˜¯unicodeå­—ç¬¦é›†çš„ç¼–ç ,å¯ä»¥åˆ¤æ–­ä¸­æ–‡ï¼Œuæ¨¡å¼,\\x{4e00}-\\x{9fa5}ä¾‹å­ $pattern = â€˜/\\b[a-zA-Z]+\\b|\\b\\d+\\b/â€˜; &emsp; // |æ˜¯æ­£åˆ™è¡¨è¾¾å¼é‡Œé¢çš„æˆ–è€…8 $pattern = â€˜/\\bi(phone|mac|pad)\\b/â€˜; &emsp; //æ‹¬å·é‡Œçš„æ˜¯å­è¡¨è¾¾å¼ ä¹Ÿè¦è¿›è¡ŒåŒ¹é…9 $pattern = â€˜/g.+d/â€˜; &emsp; //è´ªå©ªæ¨¡å¼10 $pattern = â€˜/g.+?d/â€˜; &emsp; //éè´ªå©ªæ¨¡å¼11 $pattern = â€˜/1[3458][0-9]{9}/â€˜; &emsp; //é‡‡é›†æ‰‹æœºå·12 $pattern = â€˜/([a-zA-Z])\\w+\\1/â€˜; &emsp; //åå‘å¼•ç”¨13 $pattern = â€˜/(\\d{3})\\d+(\\d{4})/â€˜; &emsp; //$str1 = preg_replace($pattern,â€™\\1****\\2â€™,$str); $pattern = â€˜/[a-z]+/iâ€™; &emsp; //iä¸åŒºåˆ†å¤§å°å†™ $pattern = â€˜/.+/sâ€™; &emsp; singledå•è¡Œæ¨¡å¼ å°†æ‰€æœ‰å†…å®¹çœ‹æˆä¸€æ•´è¡Œ $pattern = â€˜/^[\\x{4e00}-\\x{9fa5}]+$/uâ€™; $pattern = â€˜/\\b\\w+(?!ing)\\w{3}\\b/â€˜; &emsp; //é¢„æŸ¥ åé¢3ä¸ªå­—æ¯ä¸æ˜¯ingçš„å•è¯ $pattern = â€˜/\\b\\w+(?=ing\\b)/â€˜; &emsp; //é¢„æŸ¥ å•è¯ingå‰é¢çš„å­—æ¯ $pattern = â€˜/un(\\w+)/â€˜; &emsp; //æŸ¥æ‰¾unå¼€å¤´çš„å•è¯ $pattern = â€˜/(?&lt;=\\bun)\\w+\\b/â€˜; &emsp; //é¢„æŸ¥ unå¼€å¤´åçš„å­—æ¯ $pattern = â€˜/\\b\\w{2}(?&lt;!un)\\w+\\b/â€˜; &emsp; //é¢„æŸ¥ ä¸æ˜¯unå¼€å¤´çš„å•è¯","categories":[],"tags":[{"name":"php","slug":"php","permalink":"http://yoursite.com/tags/php/"}]},{"title":"redis","slug":"redis","date":"2020-01-05T14:48:32.000Z","updated":"2020-03-26T11:58:30.000Z","comments":true,"path":"2020/01/05/redis/","link":"","permalink":"http://yoursite.com/2020/01/05/redis/","excerpt":"","text":"RedisRedis æ˜¯å®Œå…¨å¼€æºå…è´¹çš„,éµå®ˆBSDåè®®ï¼Œæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½(NOSQL)çš„key_valueæ•°æ®åº“key-value ç¼“å­˜äº§å“çš„ç‰¹ç‚¹ï¼š 1.Redisæ”¯æŒæ•°æ®çš„æŒä¹…åŒ–ï¼Œå¯ä»¥å°†å†…å­˜ä¸­çš„æ•°æ®ä¿å­˜åˆ°ç£ç›˜ä¸­ 2.åŒæ—¶è¿˜æä¾›list,set,zset,hashç­‰æ•°æ®ç»“æ„çš„å­˜å‚¨ 3.æ”¯æŒæ•°æ®çš„å¤‡ä»½(master-slave) ,é›†ç¾¤ç­‰é«˜å¯ç”¨åŠŸèƒ½ï¼ˆæ”¯æŒ16ä¸ªåº“ï¼‰ 4.æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆèŠå¤©å®¤ï¼‰ 5.å•çº¿ç¨‹ï¼ŒåŸå­æ€§redisç±»å‹1.stringç±»å‹æ˜¯äºŒè¿›åˆ¶å®‰å…¨çš„ å¯ä»¥åŒ…å«ä»»ä½•æ•°æ® äºŒè¿›åˆ¶å®‰å…¨ç‰¹ç‚¹:ç¼–ç ï¼Œè§£ç å‘ç”Ÿåœ¨å®¢æˆ·ç«¯å®Œæˆï¼Œæ‰§è¡Œæ•ˆç‡é«˜,ä¸éœ€è¦é¢‘ç¹ç¼–è§£ç ,ä¸ä¼šå‡ºç°ä¹±ç  2.hashç±»å‹å­˜å‚¨å€¼å¯¹è±¡(2^32-1)40å¤šäº¿ä¸ª,å‚¨å­˜ä¸€ä¸ªç”¨æˆ·å¯¹è±¡æ•°æ® 3.listç±»å‹å¯ä»¥å­˜å…¥å¤šä¸ªå€¼ï¼ˆé€‚åˆï¼‰ ~~å¯¹æ•°æ®é‡å¤§çš„é›†åˆæ•°æ®åˆ å‡ åˆ—è¡¨æ•°æ®æ˜¾ç¤º(åˆ†é¡µ)ã€å…³æ³¨åˆ—è¡¨ã€ç²‰ä¸åˆ—è¡¨ã€ç•™è¨€è¯„ä»·ã€çƒ­ç‚¹æ–°é—»ï¼ˆtop5ï¼‰ ~~ä»»åŠ¡é˜Ÿåˆ— è®¢å•ç³»ç»Ÿä¸‹å•æµç¨‹ã€ç”¨æˆ·ç³»ç»Ÿç™»å½•æ³¨å†ŒçŸ­ä¿¡ 4.setç±»å‹ æ˜¯å”¯ä¸€ï¼Œæ— åºé›†åˆ å…±åŒå…³æ³¨ã€å…±åŒå–œå¥½ã€äºŒåº¦å¥½å‹ å”¯ä¸€æ€§ç»Ÿè®¡è®¿é—®ç½‘ç«™çš„ç‹¬ç«‹IP 5.zsetç±»å‹ï¼Œæ˜¯å”¯ä¸€ï¼Œæœ‰åºé›†åˆ æ’è¡Œæ¦œï¼Œæƒé‡çš„é˜Ÿåˆ—(ä»»åŠ¡è®¡åˆ’)BSDåè®®å¼€æºåè®®æ˜¯ç»™ä½¿ç”¨è€…å¾ˆå¤§çš„è‡ªç”±åè®®string hash list set Zset hyper log logredisè®¢é˜…å‘å¸ƒå³æ—¶èŠå¤©ã€ç¾¤èŠ ç²‰ä¸å…³æ³¨ä½ ï¼Œä½ å‘æ¶ˆæ¯æ¨é€æ¶ˆæ¯ç»™ç²‰ä¸Redis äº‹åŠ¡1.æ‰§è¡Œå‘½ä»¤é”™è¯¯ä¸ä¼šè¿›è¡Œå›æ»š,åˆ™æ˜¯æŠ¥å‡ºé”™çš„ä¿¡æ¯ï¼Œå…¶ä»–å‘½ä»¤ä¾æ—§æ‰§è¡Œ 2. å¦‚æœæ˜¯å‘½ä»¤è¯­æ³•é”™è¯¯,æ‰§è¡Œååˆ™è¿›è¡Œå›æ»š å•†å“ç§’æ€ã€è½¬è´¦æ´»åŠ¨Redis æ•°æ®æ·˜æ±°ç­–ç•¥ ## Redis æŒä¹…åŒ– RDBæœºåˆ¶ dump.rdb ä»¥å¿«ç…§çš„æ–¹å¼å†™å…¥åˆ°äºŒè¿›åˆ¶æ–‡ä»¶ğŸ€„ å¿«ç…§ä¿å­˜æ•°æ®å¿«ï¼Œè¿˜åŸæ•°æ®å¿« Redis ç¼“å­˜ä¸æ•°æ®åº“Redis ç¼“å­˜ä¸æ•°æ®åº“(Mysql)åŒæ­¥â€“ã€‹ä½¿ç”¨çš„æ˜¯kafkaåšä¸ºå¼‚æ­¥é˜Ÿåˆ—RedisçŸ¥è¯†ç‚¹æ€»ç»“ :ç¼“å­˜ç©¿é€ã€ç¼“å­˜é›ªå´©ã€çƒ­ç‚¹keyç­‰å¤„ç†æ–¹æ¡ˆ(ä¼šåŒé‡é”çš„ä½¿ç”¨)","categories":[],"tags":[{"name":"redis","slug":"redis","permalink":"http://yoursite.com/tags/redis/"}]},{"title":"$this class new å…³ç³»åŸç†","slug":"insideoop","date":"2020-01-05T03:20:11.000Z","updated":"2020-04-03T15:56:00.000Z","comments":true,"path":"2020/01/05/insideoop/","link":"","permalink":"http://yoursite.com/2020/01/05/insideoop/","excerpt":"","text":"$this å†…éƒ¨å¯¹è±¡,ä»£è¡¨è®¿é—®è¯¥æ–¹æ³•çš„å¤–éƒ¨å¯¹è±¡ æ‰§è¡Œä»£ç è¿è¡Œæ˜¯æ”¾åˆ°å†…å­˜è¿è¡Œ å†…å­˜(æ ˆåŒº) å°ã€æ•ˆç‡é«˜ å†…å­˜(å †åŒº)æ”¾å¤§æ•°æ®çš„ å†…å­˜(æ•°æ®æ®µ) æ”¾æ•°æ®çš„ å†…å­˜(ä»£ç æ®µ)è¿è¡Œå¿…é¡»åŠ è½½åˆ°ä»£ç æ®µ æ‰§è¡Œæ­¥éª¤ ç±»ç»“æ„ä¸ä¼šæ‰§è¡Œ å®ä¾‹åŒ–ç±»å…ˆå»ä»£ç æ®µæ‰¾ç±»æ˜¯å¦å­˜åœ¨, ä¸å­˜åœ¨åˆ™æŠ¥é”™ å®ä¾‹åŒ–çš„è¿‡ç¨‹ä¼šåœ¨å †é‡Œé¢äº§ç”Ÿä¸€ä¸ªå†…å­˜åŒºï¼Œ å¤åˆ¶æ‰€æœ‰å±æ€§æŒ‡å‘è¿™ä¸ªç±» æ‰§è¡Œæ–¹æ³•æŠŠæ”¾åˆ°å†…å­˜çš„æ ˆåŒº, å¼€å§‹æ‰§è¡Œçš„æ—¶å€™ä¼šäº§ç”Ÿå±€éƒ¨å˜é‡$this ç„¶åå»æ‰¾è°æ¥è®¿é—®æˆ‘ï¼Œ ç„¶åæ‰¾åˆ°æŒ‡å‘å¤åˆ¶çš„å¯¹è±¡ï¼Œ $thiså°±ç­‰äºå¤–éƒ¨å®ä¾‹åŒ–çš„å˜é‡ ï¼ˆæŒ‡å‘åŒä¸€å†…å­˜åœ°å€ã€ä»£è¡¨åŒä¸€ä¸ªå¯¹è±¡ï¼‰ å°±çŸ¥é“æ˜¯è°æŒ‡å‘çš„ï¼Œç„¶åæ ˆé‡Œé¢æœ‰ä¸ªç¯å¢ƒ æ˜¯å±äºç±»çš„å†…éƒ¨","categories":[],"tags":[{"name":"php","slug":"php","permalink":"http://yoursite.com/tags/php/"}]},{"title":"oop thought keywords","slug":"ooptwo","date":"2020-01-05T03:00:00.000Z","updated":"2020-04-03T15:56:00.000Z","comments":true,"path":"2020/01/05/ooptwo/","link":"","permalink":"http://yoursite.com/2020/01/05/ooptwo/","excerpt":"","text":"é¢å‘å¯¹è±¡çš„å…³é”®å­—ç”¨æ³• é™æ€å»¶è¿Ÿç»‘å®š æ˜¯ä¸ºäº†æ˜ç¡®è®¿é—®çš„ä¸»ä½“ self::$name,&apos;&lt;/br&gt;&apos;;#ç¼–è¯‘æ—¶æœ¬èº«å¯¹è±¡::$name; static::$name; #ç¼–è¯‘æ—¶?::$name; æœ€ç»ˆç±» finalå…³é”®å­—ä¿®é¥°çš„ç±»è¡¨ç¤ºæ— æ³•è¢«ç»§æ‰¿ ä¿®é¥°æ–¹æ³•è¡¨ç¤ºè¯¥æ–¹æ³•ä¸èƒ½è¢«é‡å†™ å¯ä»¥åœ¨ä¸€ä¸ªæ›´é«˜çš„ç»´åº¦æ¥ä¿è¯åŒç±»äº‹åŠ¡çš„å…±åŒè¡¨ç° ä½œç”¨ï¼šé™åˆ¶ç±»è¢«ç»§æ‰¿ï¼Œä»è€Œä¿æŠ¤ç»“æ„ æŠ½è±¡ç±» abstractå…³é”®å­—ä¿®é¥°çš„ç±»ï¼Œè¡¨ç¤ºè¯¥ç±»ä¸èƒ½è¢«å®ä¾‹åŒ–ï¼Œåªèƒ½è¢«ç»§æ‰¿ è§„èŒƒç±»ç»“æ„ï¼Œä»è€Œä¿è¯å¼€å‘ä¸€è‡´æ€§ çˆ¶ç±»ä¸ºæŠ½è±¡åˆ™å­ç±»ä¹Ÿè¦ä¸ºæŠ½è±¡ç±»ï¼Œ è€Œæƒ³å»å®ç°åˆ™å®ç°(é‡å†™)è¿™æ–¹æ³• trait ä»£ç çš„å¤ç”¨ ä¸ºç±»ä¼¼phpå•ç»§æ‰¿æä¾›çš„ä¸€ä¸ªä»£ç å¤ç”¨æœºåˆ¶ traitçš„ç»“æ„ç±»ä¼¼ä¸ç±»æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œä¸èƒ½æœ‰å¸¸é‡ traitæƒé™ä¿®æ”¹: æ–¹æ³•å as è®¿é—®ä¿®é¥°é™å®šç¬¦ traitåŒå: traitåŒåç°è±¡ä½¿ç”¨instead of æ›¿æ¢å¦å¤–ä¸€ä¸ª æˆ–è€… æ›¿æ¢åè®©å¦å¤–ä¸€ä¸ªä½¿ç”¨åˆ«å ä¾‹å¦‚: use t2,t1{ t2::eat insteadof t1; t1::eat as show; }åŒåå±æ€§:(é™¤éåŒååŒå€¼) åŒåæ–¹æ³• traitä¼˜å…ˆçº§å½“æœ‰åŒåæƒ…å†µä¸‹å­ç±»&gt;trait&gt;çˆ¶ç±» interface æ¥å£æˆå‘˜ æ¥å£æ˜¯ä¸€ä¸ªä¸ç±»ç›¸ä¼¼çš„ç»“æ„ï¼Œç›®çš„æ˜¯ä¸ºäº†è§„èŒƒä¸€äº›ç±»çš„å¿…è¦è¡Œä¸º æ¥å£æˆå‘˜åªæœ‰ä¸¤ç±»: æ¥å£å¸¸é‡ï¼šconst å…¬æœ‰çš„æ¥å£æ–¹æ³• æ¥å£æ–¹æ³•æ²¡æœ‰æ–¹æ³•ä½“ï¼Œéƒ½ä¸ºæŠ½è±¡æ–¹æ³• å®ç°æ¥å£ï¼Œå®ä½“ç±» class People implements Man ä¸èƒ½è¿›è¡Œé‡å†™ æ¥å£ä¼šä½¿å¾—é¡¹ç›®å¼€å‘å˜å¾—ä¸é‚£ä¹ˆçµæ´»ã€å¤šä½¿ç”¨åœ¨å¤§å‹é¡¹ç›®è§„èŒƒå›¢é˜Ÿå¾—åä½œ,ä»è€Œä»æœ€ä¸Šå±‚è§„èŒƒæ•´ä½“æ¶æ„ æ¥å£ç»§æ‰¿å­æ¥å£ã€æ¥å£å¤šç»§æ‰¿ interface faceExam extends EnglishExam,MathExam ç›®çš„ï¼šå®ç°æ¥å£çš„æ‰©å±•ï¼šä¸°å¯Œæ¥å£å†…å®¹ï¼Œä»è€Œå®ç°æ›´å¥½çš„å¯¹å®ç°ç±»çš„è§„èŒƒ overload phpä¸­çš„é‡è½½ï¼š å±æ€§é‡è½½ï¼šå±æ€§æ–¹æ³•ä¸å­˜åœ¨æˆ–è€…æƒé™ä¸å¤Ÿè‡ªåŠ¨è§¦å‘ å±æ€§é‡è½½é­”æœ¯æ–¹æ³•ï¼š __get()è®¿é—®ä¸å­˜åœ¨æˆ–è€…æƒé™ä¸å¤Ÿçš„å±æ€§çš„æ—¶å€™ __set()è®¾ç½®ä¸å­˜åœ¨æˆ–è€…æƒé™ä¸å¤Ÿçš„å±æ€§çš„æ—¶å€™ __isset()åˆ¤å®šä¸å­˜åœ¨æˆ–è€…æƒé™ä¸å¤Ÿçš„å±æ€§çš„æ—¶å€™ __unset()åˆ é™¤ä¸å­˜åœ¨æˆ–è€…æƒé™ä¸å¤Ÿçš„å±æ€§çš„æ—¶å€™ ä¿è¯æ•°æ®å®‰å…¨æ€§ã€ä¸è®©ä»£ç å‡ºå…ˆæ“ä½œæ€§é”™è¯¯ æœ‰æ•ˆä¿è¯å¯¹è±¡ç»“æ„ã€ä¸ä¼šç”¨æˆ·æ— é™å¢åŠ å¯¹è±¡å±æ€§ æ–¹æ³•é‡è½½ï¼š æ–¹æ³•ä¸å­˜åœ¨æˆ–è€…æƒé™ä¸å¤Ÿè‡ªåŠ¨è§¦å‘ (å®¹é”™å¤„ç†) /* @$name ä¸ºè°ƒç”¨æ–¹æ³•çš„åç§° @$arguments ä¸ºä¼ æ¥çš„æ•°ç»„ */ __call($name,$arguments) __callStatic$name,$arguments) å¯¹è±¡éå†(æŠŠå†…å®¹å…¨éƒ¨éå†å‡ºæ¥) Iteratorè¿­ä»£å™¨ éå†æ§åˆ¶ ä¸“é—¨é’ˆå¯¹æœ‰éå†å¯¹è±¡æ§åˆ¶çš„ç±»è€Œå­˜åœ¨çš„ æœ‰æ•ˆæ§åˆ¶foreachå¯¹å¯¹è±¡çš„éå†ï¼Œä»è€Œä¿æŠ¤å¥½å†…éƒ¨ç»“æ„ /è¿­ä»£å™¨Iterator/ private $property = [ &apos;name&apos;=&gt;&apos;nihao&apos;, &apos;age&apos;=&gt;&apos;&apos;, &apos;weight&apos;=&gt;&apos;&apos;, &apos;height&apos;=&gt;&apos;&apos;, &apos;hair&apos;=&gt;&apos;&apos; ]; /*æ•°ç»„ä¸‹æ ‡æŒ‡é’ˆä¸å˜æ—¶*/ // private $key = 0; /*å–å‡ºå½“å‰æ•°ç»„å…ƒç´ å€¼*/ public function current() { return current($this-&gt;property); // return $this-&gt;property[$this-&gt;key]; } /*è¿”å›å½“å‰ä¸‹æ ‡*/ public function key() { return key($this-&gt;property); // return $this-&gt;key; } /*å½“å‰ä¸‹æ ‡+1*/ public function next() { next($this-&gt;property); // $this-&gt;key++; } /*åˆ¤æ–­ä¸‹æ ‡å¯¹åº”çš„å…ƒç´ æ˜¯å¦å­˜åœ¨*/ public function valid() { return isset($this-&gt;property[key($this-&gt;property)]); // return isset($this-&gt;property[$this-&gt;key]); } /*é‡ç½®æ•°ç»„ä¸‹æ ‡*/ public function rewind() { reset($this-&gt;property); // $this-&gt;key = 0; } } $property = new diedai(); foreach ($property as $key =&gt; $value) { echo $key . &apos;:&apos; . $value,&apos;&lt;br&gt;&apos;; } * Generatorç”Ÿæˆå™¨ * ç”Ÿæˆå™¨æ˜¯ä¸€ç§å®ç°äº†Iteratorè¿­ä»£å™¨æ¥å£çš„ç±» * ç”Ÿæˆå™¨çš„ç›®çš„æ˜¯åˆ©ç”¨yieldå…³é”®å­—å®ç°å¾ªç¯å†…éƒ¨çš„æš‚åœ function generator(){ for($i=0;$i&lt;10000;$i++){ yield $i; } } echo memory_get_usage(),&apos;&lt;br&gt;&apos;;#358122 /*è‡ªåŠ¨è¿”å›å¯¹è±¡*/ $arr = generator(); foreach($arr as $key=&gt;$value){ // echo $value.PHP_EOL; } namespaceå‘½åç©ºé—´ space éé™å®šåç§°è®¿é—® é™å®šåç§°è®¿é—® space1\\display(); å®Œå…¨é™å®šåç§°è®¿é—® \\space\\display(); ç³»ç»Ÿå‡½æ•°å’Œå¸¸é‡ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å‡çº§åˆ°å…¨å±€æ§åˆ¶æ‰¾ ç³»ç»Ÿç±»ä¸ä¼š è¦è®¿é—®åˆ™å»å…¨å±€ç©ºé—´æ‰¾åŠ \\ autoloadè‡ªåŠ¨åŠ è½½ function my_autoload($classname) { if (!class_exists($classname)) { $file = $classname.&apos;.php&apos;; if(file_exists($file)){ include $classname . &apos;.php&apos;; } } return true; } spl_autoload_register(&apos;my_autoload&apos;);","categories":[],"tags":[{"name":"php","slug":"php","permalink":"http://yoursite.com/tags/php/"}]},{"title":"oop thought","slug":"oop","date":"2020-01-05T02:20:11.000Z","updated":"2020-04-03T15:56:00.000Z","comments":true,"path":"2020/01/05/oop/","link":"","permalink":"http://yoursite.com/2020/01/05/oop/","excerpt":"","text":"é¢å‘å¯¹è±¡ æœºå™¨è¯­è¨€ï¼šå³å¼€å‘è€…(ç§‘å­¦å®¶)ä½¿ç”¨0å’Œ1ç»„æˆå‘½ä»¤,ç„¶ååœ¨ç‰¹å®šçš„è®¡ç®—æœºä¸Šæ‰§è¡Œ ä¼˜ç‚¹ï¼šæ‰§è¡Œæ•ˆç‡é«˜ ç¼ºç‚¹ï¼šå¼€å‘éš¾åº¦å¤§ï¼Œç§»æ¤æ€§å·®ï¼Œå¼€å‘æˆæœ¬é«˜ æ±‡ç¼–è¯­è¨€ï¼šå¼€å‘è€…ä½¿ç”¨ç®€æ´çš„è‹±æ–‡å­—æ¯å’Œç¬¦å·ç»„æˆ é«˜çº§è®¡ç®—æœºè¯­è¨€ï¼š é¢å‘è¿‡ç¨‹ç¼–ç¨‹ï¼šå°†è¦è§£å†³çš„åŠŸèƒ½åˆ†è§£æˆå…·ä½“çš„æ­¥éª¤ï¼Œç„¶åé€šè¿‡å‡½æ•°ç¼–ç¨‹å®ç°é¢ä¸€ä¸ªæ­¥éª¤,æœ€åé€šè¿‡å‡½æ•°è§„å®šå¥½çš„é¡ºåºè°ƒç”¨å®Œæˆ é¢å‘è¿‡ç¨‹ç¼–ç¨‹æ€æƒ³çš„ä¼˜ç‚¹ èƒ½å¤Ÿé’ˆå¯¹æ­¥éª¤æ‹†åˆ†ï¼Œè¿›è¡Œæ¨¡å—åŒ–å°è£… å¯ä»¥å®ç°ä»£ç çš„å¤ç”¨ï¼Œé™ä½å¼€å‘çš„æˆæœ¬ é¢å‘è¿‡ç¨‹ç¼–ç¨‹æ€æƒ³çš„ç¼ºç‚¹ ä¸å¤Ÿçµæ´»ç»´æŠ¤ï¼Œæµç¨‹ä¸€æ—¦ç¡®å®šå°±å¿…é¡»æŒ‰ç…§æ—¢å®šçš„æ–¹å¼é¡ºåºæ‰§è¡Œåˆ°åº• é¢å‘å¯¹è±¡æ˜¯åŸºäºé¢å‘è¿‡ç¨‹ä¹‹ä¸Š,ä¹Ÿæ˜¯æ ¹æ®åŠŸèƒ½éœ€æ±‚å°è£…ï¼Œè¿˜æœ‰äº‹åŠ¡æ“ä½œçš„ä¸»ä½“ï¼Œå³å¯¹è±¡ é¢å‘å¯¹è±¡æ˜¯ä¸€ç§ç¼–ç¨‹æ€æƒ³ï¼Œå…¶æœ¬è´¨æ˜¯å»ºç«‹æ¨¡å‹ä½“ç°å‡ºæ¥çš„æŠ½è±¡æ€ç»´è¿‡ç¨‹å’Œé¢å‘å¯¹è±¡çš„æ–¹æ³•ã€‚æ¨¡å‹æ˜¯ç”¨æ¥åæ˜ ç°å®ä¸–ç•Œçš„äº‹ç‰©ç‰¹å¾å¼€å‘è§„èŒƒ: å¼€å‘è€…çº¦å®šä¿—ç§°çš„å¼€å‘è®¾è®¡æ–¹å¼ å±æ€§åˆå§‹åŒ– è®¿é—®ä¿®é¥°é™å®šç¬¦é€‰æ‹© ç±» ç±»æˆå‘˜(member)ï¼š{ æˆå‘˜å˜é‡(property) æˆå‘˜æ–¹æ³•(method) å¸¸é‡(const)} æ‰“å°å¯¹è±¡ï¼šobject(Nothing)#1(0){} object:å¯¹è±¡ (Nothing)ï¼šæ‰€å±ç±»å #1æ˜¯æ•´ä¸ªè„šæœ¬ä¸­å¯¹è±¡ç¼–å· (0)æˆå‘˜å˜é‡(å±æ€§)ä¸ªæ•° {}å…·ä½“æˆå‘˜å˜é‡ä¿¡æ¯ï¼ˆé”®å€¼å¯¹ï¼‰ å°è£…å°†æ•°æ®å…ƒç´ å’Œè¡Œä¸ºè¿›è¡Œç»“åˆ,ç±»è´Ÿè´£å¤„ç†ä¸šåŠ¡æ•°æ®é€»è¾‘ï¼Œå¯¹è±¡è´Ÿè´£è°ƒç”¨å®ç° ç»§æ‰¿æœ‰é™ç»§æ‰¿2. å•ç»§æ‰¿3. é“¾å¼ç»§æ‰¿ * ç§æœ‰ä¸ä¼šè¢«è¦†ç›– * é‡å†™æ—¶æ§åˆ¶æƒé™ä¸èƒ½é«˜äºçˆ¶ç±» * å¯ä»¥é€šè¿‡åœ¨å­ç±»æ–¹æ³•ä¸­ä½¿ç”¨parentå…³é”®å­—æ¥å¼ºåˆ¶è®¿é—®çˆ¶ç±»æ–¹æ³•å¤šæ€å¤šæ€æ€§æ˜¯æŒ‡ç›¸åŒçš„æ“ä½œæˆ–å‡½æ•°ã€è¿‡ç¨‹å¯ä½œç”¨äºå¤šç§ç±»å‹çš„å¯¹è±¡ä¸Šå¹¶è·å¾—ä¸åŒçš„ç»“æœã€‚ä¸åŒçš„å¯¹è±¡ï¼Œæ”¶åˆ°åŒä¸€æ¶ˆæ¯å°†å¯ä»¥äº§ç”Ÿä¸åŒçš„ç»“æœï¼Œè¿™ç§ç°è±¡ç§°ä¸ºå¤šæ€æ€§ã€‚ class employee{//å®šä¹‰å‘˜å·¥çˆ¶ç±» protected function working(){//å®šä¹‰å‘˜å·¥å·¥ä½œï¼Œéœ€è¦åœ¨å­ç±»çš„å®ç° echo &quot;æœ¬æ–¹æ³•éœ€è¦åœ¨å­ç±»ä¸­é‡è½½!&quot;; } } class painter extends employee{//å®šä¹‰æ²¹æ¼†å·¥ç±» public function working(){//å®ç°ç»§æ‰¿çš„å·¥ä½œæ–¹æ³• echo &quot;æ²¹æ¼†å·¥æ­£åœ¨åˆ·æ¼†ï¼\\n&quot;; } } class typist extends employee{//å®šä¹‰æ‰“å­—å‘˜ç±» public function working(){ echo &quot;æ‰“å­—å‘˜æ­£åœ¨æ‰“å­—ï¼\\n&quot;; } } class manager extends employee{//å®šä¹‰ç»ç†ç±» public function working(){ echo &quot;ç»ç†æ­£åœ¨å¼€ä¼šï¼&quot;; } } function printworking($obj){//å®šä¹‰å¤„ç†æ–¹æ³• if($obj instanceof employee){//è‹¥æ˜¯å‘˜å·¥å¯¹è±¡ï¼Œåˆ™æ˜¾ç¤ºå…¶å·¥ä½œçŠ¶æ€ $obj-&gt;working(); }else{//å¦åˆ™æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ echo &quot;Error: å¯¹è±¡é”™è¯¯ï¼&quot;; } } printworking(new painter());//æ˜¾ç¤ºæ²¹æ¼†å·¥çš„å·¥ä½œ printworking(new typist());//æ˜¾ç¤ºæ‰“å­—å‘˜çš„å·¥ä½œ printworking(new manager());//æ˜¾ç¤ºç»ç†çš„å·¥ä½œ","categories":[],"tags":[{"name":"php","slug":"php","permalink":"http://yoursite.com/tags/php/"}]},{"title":"common_function","slug":"array","date":"2019-12-27T08:20:30.000Z","updated":"2020-05-11T02:34:36.435Z","comments":true,"path":"2019/12/27/array/","link":"","permalink":"http://yoursite.com/2019/12/27/array/","excerpt":"","text":"å¸¸ç”¨æ•°ç»„çš„å‡½æ•° array_push()å°†æ•°ç»„æ’å…¥ä¸€ä¸ªæ•°ç»„çš„æœ«ç«¯array_push($a,$b); array_intersect æ¯”è¾ƒä¸¤ä¸ªæ•°ç»„çš„é”®å€¼,å¹¶è¿”å›äº¤é›† (äº¤é›†çš„é”®åæ˜¯ä¸€ç¬¬ä¸€ä¸ªæ•°ç»„çš„é”®å) array_intersect_assoc æ¯”è¾ƒä¸¤ä¸ªæ•°ç»„çš„é”®å€¼å’Œé”®å,å¹¶è¿”å›äº¤é›† array_merge æ˜¯è¿›è¡Œä¸¤ä¸ªæ•°ç»„åˆå¹¶ ä½†åé¢çš„æ•°ç»„ç›¸åŒçš„é”®åä¼šè¦†ç›–æ‰å‰é¢çš„å€¼ array_merge_recursive ä¹Ÿæ˜¯è¿›è¡Œä¸¤ä¸ªæ•°ç»„åˆå¹¶,ä½†ç›¸åŒçš„é”®åçš„å€¼ä¼šé€’å½’æˆä¸€ä¸ªæ•°ç»„ array_slice(array,start,length,preserve) åˆ†é¡µ preserve é»˜è®¤ä¸ºfalse(é‡ç½®é”®å) true(ä¸é‡ç½®) array_column(äºŒç»´æ•°ç»„,è¿”å›çš„å­—æ®µ,å­—æ®µå¯¹åº”çš„keyå€¼) arrays_key()è¿”å›æ•°ç»„çš„é”® in_array()ä¸€ä¸ªå€¼åœ¨æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨ array_chunk(array,size,falseé»˜è®¤/true ä¿ç•™åŸæ•°ç»„çš„é”®å) æŠŠæ•°ç»„åˆ†å‰²ä¸ºå¸¦æœ‰ä¸¤ä¸ªå…ƒç´ çš„æ•°ç»„å—ï¼š size å¿…éœ€ã€‚ä¸€ä¸ªæ•´æ•°ï¼Œè§„å®šæ¯ä¸ªæ–°æ•°ç»„å—åŒ…å«å¤šå°‘ä¸ªå…ƒç´ ã€‚ explode()æŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°ç»„ implode()æŠŠæ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸² urlencodeæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¯å°†å­—ç¬¦ä¸²ä»¥URLç¼–ç  ini_set(â€˜memory_limitâ€™, â€˜128Mâ€™);å†…å­˜è®¾ç½® JSON=&gt;æ•°ç»„ json_encode()ç”¨äºå¯¹å˜é‡è¿›è¡Œjsonç¼–ç  json_decode()å¯¹jsonæ ¼å¼çš„å­—ç¬¦ä¸²è¿›è¡Œè§£ç è½¬æ¢ä¸ºPHPå˜é‡ assocå½“å‚æ•°ä¸ºfalseè¿”å›å¯¹è±¡ å­—ç¬¦ä¸² substr($a,1,3)åœ¨$aä¸ªå­—ç¬¦ä¸²çš„1ä½ç½®å¼€å§‹3ç»“æŸ str_shuffle()æ‰“ä¹±å­—ç¬¦ä¸²é¡ºåº str_split()æŠŠå­—ç¬¦ä¸²åˆ†å‰²åˆ°æ•°ç»„ä¸­ str_pad($a,5,â€™.â€™)åœ¨$aå­—ç¬¦ä¸²å¡«å……ä¸è¶³5ä½æ•°çš„ç‚¹ str_replace()æ›¿æ¢å­—ç¬¦ strip_tags()å…è®¸å­˜åœ¨æŒ‡å®šæ ‡ç­¾ stristr($str,â€™strâ€™)å­—ç¬¦ä¸²æ¯”è¾ƒçœ‹æ˜¯å¦å­˜åœ¨å­˜åœ¨è¿”å›str _toString()çš„å‡½æ•°ï¼Œå¯ä»¥ç”¨æ¥è¿”å›è¡¨ç¤ºå¯¹è±¡çš„å­—ç¬¦ä¸²ä¿¡æ¯è¯¥å‡½æ•°æ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„ã€‚å¦‚éœ€è¿›è¡ŒåŒºåˆ†å¤§å°å†™çš„æœç´¢ï¼Œè¯·ä½¿ç”¨strstr()å‡½æ•°ã€‚ Urlæ“ä½œ parse_url() ç»“æœqueryå‚æ•°å†…å®¹ pathè·¯å¾„å†…å®¹","categories":[],"tags":[{"name":"php","slug":"php","permalink":"http://yoursite.com/tags/php/"}]},{"title":"ç”µå•†å°ç¨‹åº","slug":"hello-world","date":"2019-12-21T12:20:30.000Z","updated":"2020-04-09T06:44:05.179Z","comments":true,"path":"2019/12/21/hello-world/","link":"","permalink":"http://yoursite.com/2019/12/21/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[{"name":"php","slug":"php","permalink":"http://yoursite.com/tags/php/"}]},{"title":"git","slug":"gitbç¬”è®°","date":"2019-12-20T14:48:32.000Z","updated":"2020-03-26T11:56:32.000Z","comments":true,"path":"2019/12/20/gitbç¬”è®°/","link":"","permalink":"http://yoursite.com/2019/12/20/gitb%E7%AC%94%E8%AE%B0/","excerpt":"","text":"PHPæ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€ TP5ä¸Šä¼ å›¾ç‰‡ åˆå¹¶åˆ†æ”¯git merge origin/åˆ†æ”¯åç§° åˆ‡æ¢åˆ†æ”¯git checkout åˆ†æ”¯åç§° åˆå¹¶åˆ†æ”¯å–æ¶ˆgit reset â€“hard headå…¬é’¥ åˆ é™¤ .ssh æ–‡ä»¶å¤¹ã€C:\\Users(æœ¬åœ°ç”¨æˆ·å).sshã€‘ ä¸­çš„ known_hosts(ç›´æ¥åˆ é™¤å³å¯) åœ¨ä¸‹è½½å¥½çš„Gitä¸­çš„binç›®å½•ä¸‹ï¼ˆä¸€èˆ¬æ˜¯ C:\\Program Files\\Git\\binï¼‰æ‰“å¼€bash.exeè¾“å…¥å‘½ä»¤ssh-keygen -t rsa -C â€œusernameâ€ (æ³¨ï¼šusernameä¸ºä½ gitä¸Šçš„ç”¨æˆ·å)ï¼Œå¦‚æœæ‰§è¡ŒæˆåŠŸã€‚è¿”å›ï¼š Generating public/private rsa key pair. Enter file in which to save the key (/Users/username/.ssh/id_rsa): //è¿™é‡Œçš„usernameæ˜¯ç”µè„‘ä¸Šçš„ç”¨æˆ·åï¼Œè¿™ä¸ªåœ°å€ä¹Ÿæ˜¯æ–‡ä»¶çš„å­˜å‚¨åœ°å€ï¼Œç„¶åæŒ‰å›è½¦ï¼Œå¦‚æœä»¥å‰æœ‰å­˜å‚¨åœ°å€ä¼šè¿”å›/Users/your username/.ssh/id_rsa already exists.Overwrite (y/n)?ç›´æ¥è¾“å…¥yå›è½¦ã€‚ å¦‚æœä»¥å‰æ²¡æœ‰å‚¨å­˜åœ°å€å°±ä¼šå‡ºç°Enter passphrase(empty for no passphrase);ä¹Ÿç›´æ¥å›è½¦ï¼Œ ä¸¤ç§æƒ…å†µå›è½¦åéƒ½ä¼šå‡ºç° Enter same passphrase again ç„¶åæ¥ç€å›è½¦ä¼šæ˜¾ç¤º ç„¶åæ‰¾åˆ°ç³»ç»Ÿè‡ªåŠ¨åœ¨.sshæ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶ï¼Œid_rsaå’Œid_rsa.pubï¼Œç”¨è®°äº‹æœ¬æ‰“å¼€id_rsa.pubå°†å…¨éƒ¨çš„å†…å®¹å¤åˆ¶ã€‚ ç„¶åå°†ä½ å¤åˆ¶çš„å†…å®¹ç²˜è´´åˆ°keyä¸­ ä»ç„¶åœ¨bash.exeä¸­è¾“å…¥ssh -T git@gitee.com/git@github.comç„¶åä¼šè·³å‡ºä¸€å †å†…å®¹ä½ åªéœ€è¾“å…¥yeså›è½¦å°±å®Œäº‹äº†ï¼Œç„¶åä»–ä¼šæç¤ºä½ æˆåŠŸäº†","categories":[],"tags":[{"name":"git","slug":"git","permalink":"http://yoursite.com/tags/git/"}]},{"title":"è§£æåŸŸåæµç¨‹","slug":"host","date":"2019-02-21T12:20:30.000Z","updated":"2020-05-11T07:20:40.610Z","comments":true,"path":"2019/02/21/host/","link":"","permalink":"http://yoursite.com/2019/02/21/host/","excerpt":"","text":"åŸŸå1ã€ç”¨æˆ·å‘èµ·è¯·æ±‚ 2ã€apache è§£ææœ¬æ¬¡è¯·æ±‚çš„åŸŸåå’Œç«¯å£å·ï¼Œ åŠ è½½ httpd-vhosts.conf ä¸­çš„è§„åˆ™ 3ã€æ£€æŸ¥æ˜¯å¦å­˜åœ¨ä¸æœ¬æ¬¡è¯·æ±‚ ç«¯å£å· ä¸€è‡´çš„è§„åˆ™ï¼Œå­˜åœ¨ 3ï¼Œ ä¸å­˜åœ¨ 4 3ã€è¿›ä¸€æ­¥æ£€æŸ¥ è§„åˆ™ä¸­æ˜¯å¦å­˜åœ¨ ServerName ä¸æœ¬æ¬¡è¯·æ±‚ åŸŸåä¸€è‡´çš„è§„åˆ™ï¼Œè‹¥å­˜åœ¨åšå¯¹åº”å¤„ç†ã€å®Œå…¨åŒ¹é…ã€‘ï¼›è‹¥ä¸å­˜åœ¨ï¼Œåˆ™å–ç¬¬ä¸€æ¡ç«¯å£å·ä¸€è‡´çš„è§„åˆ™ä½œä¸ºå¤„ç†ã€è‡³å°‘ç«¯å£å·ä¸€è‡´ä¹Ÿä¼šè¢«æ‹¦æˆªä¸‹æ¥ã€‘ 4ã€è™šæ‹Ÿä¸»æœºè§„åˆ™åŒ¹é…å®Œå…¨å¤±è´¥ï¼Œåˆ™è¯»å– httpd.conf ä¸­å®šä¹‰çš„ DocumentRoot ä½œä¸ºè§„åˆ™å¤„ç†è¯·æ±‚","categories":[],"tags":[{"name":"php","slug":"php","permalink":"http://yoursite.com/tags/php/"}]}],"categories":[],"tags":[{"name":"mysql","slug":"mysql","permalink":"http://yoursite.com/tags/mysql/"},{"name":"php","slug":"php","permalink":"http://yoursite.com/tags/php/"},{"name":"nginx","slug":"nginx","permalink":"http://yoursite.com/tags/nginx/"},{"name":"linux","slug":"linux","permalink":"http://yoursite.com/tags/linux/"},{"name":"nosql","slug":"nosql","permalink":"http://yoursite.com/tags/nosql/"},{"name":"redis","slug":"redis","permalink":"http://yoursite.com/tags/redis/"},{"name":"git","slug":"git","permalink":"http://yoursite.com/tags/git/"}]}